<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 12">
<meta name=Originator content="Microsoft Word 12">
<link rel=File-List href="Design%20Document_files/filelist.xml">
<link rel=Edit-Time-Data href="Design%20Document_files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>System Architecture</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Venkatarathna</o:Author>
  <o:LastAuthor>Ashish</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>1</o:TotalTime>
  <o:Created>2009-12-09T16:43:00Z</o:Created>
  <o:LastSaved>2009-12-09T16:43:00Z</o:LastSaved>
  <o:Pages>40</o:Pages>
  <o:Words>8384</o:Words>
  <o:Characters>47794</o:Characters>
  <o:Lines>398</o:Lines>
  <o:Paragraphs>112</o:Paragraphs>
  <o:CharactersWithSpaces>56066</o:CharactersWithSpaces>
  <o:Version>12.00</o:Version>
 </o:DocumentProperties>
</xml><![endif]-->
<link rel=themeData href="Design%20Document_files/themedata.thmx">
<link rel=colorSchemeMapping
href="Design%20Document_files/colorschememapping.xml">
<!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:TrackMoves>false</w:TrackMoves>
  <w:TrackFormatting/>
  <w:PunctuationKerning/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:DoNotPromoteQF/>
  <w:LidThemeOther>EN-US</w:LidThemeOther>
  <w:LidThemeAsian>X-NONE</w:LidThemeAsian>
  <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
   <w:DontUseIndentAsNumberingTabStop/>
   <w:FELineBreak11/>
   <w:WW11IndentRules/>
   <w:DontAutofitConstrainedTables/>
   <w:AutofitLikeWW11/>
   <w:HangulWidthLikeWW11/>
   <w:UseNormalStyleForList/>
  </w:Compatibility>
  <m:mathPr>
   <m:mathFont m:val="Cambria Math"/>
   <m:brkBin m:val="before"/>
   <m:brkBinSub m:val="&#45;-"/>
   <m:smallFrac m:val="off"/>
   <m:dispDef/>
   <m:lMargin m:val="0"/>
   <m:rMargin m:val="0"/>
   <m:defJc m:val="centerGroup"/>
   <m:wrapIndent m:val="1440"/>
   <m:intLim m:val="subSup"/>
   <m:naryLim m:val="undOvr"/>
  </m:mathPr></w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" DefUnhideWhenUsed="false"
  DefSemiHidden="false" DefQFormat="false" LatentStyleCount="267">
  <w:LsdException Locked="false" QFormat="true" Name="Normal"/>
  <w:LsdException Locked="false" QFormat="true" Name="heading 1"/>
  <w:LsdException Locked="false" QFormat="true" Name="heading 2"/>
  <w:LsdException Locked="false" QFormat="true" Name="heading 3"/>
  <w:LsdException Locked="false" QFormat="true" Name="heading 4"/>
  <w:LsdException Locked="false" QFormat="true" Name="heading 5"/>
  <w:LsdException Locked="false" QFormat="true" Name="heading 6"/>
  <w:LsdException Locked="false" QFormat="true" Name="heading 7"/>
  <w:LsdException Locked="false" QFormat="true" Name="heading 8"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   QFormat="true" Name="heading 9"/>
  <w:LsdException Locked="false" Priority="39" QFormat="true" Name="toc 1"/>
  <w:LsdException Locked="false" Priority="39" QFormat="true" Name="toc 2"/>
  <w:LsdException Locked="false" Priority="39" QFormat="true" Name="toc 3"/>
  <w:LsdException Locked="false" QFormat="true" Name="caption"/>
  <w:LsdException Locked="false" QFormat="true" Name="Title"/>
  <w:LsdException Locked="false" Priority="1" Name="Default Paragraph Font"/>
  <w:LsdException Locked="false" QFormat="true" Name="Subtitle"/>
  <w:LsdException Locked="false" QFormat="true" Name="Strong"/>
  <w:LsdException Locked="false" QFormat="true" Name="Emphasis"/>
  <w:LsdException Locked="false" Priority="99" Name="No List"/>
  <w:LsdException Locked="false" Priority="99" SemiHidden="true"
   Name="Placeholder Text"/>
  <w:LsdException Locked="false" Priority="1" QFormat="true" Name="No Spacing"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 1"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="99" SemiHidden="true" Name="Revision"/>
  <w:LsdException Locked="false" Priority="34" QFormat="true"
   Name="List Paragraph"/>
  <w:LsdException Locked="false" Priority="29" QFormat="true" Name="Quote"/>
  <w:LsdException Locked="false" Priority="30" QFormat="true"
   Name="Intense Quote"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 1"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 1"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 2"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 2"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 2"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 3"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 3"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 3"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 4"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 4"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 4"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 5"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 5"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 5"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 6"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 6"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 6"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="19" QFormat="true"
   Name="Subtle Emphasis"/>
  <w:LsdException Locked="false" Priority="21" QFormat="true"
   Name="Intense Emphasis"/>
  <w:LsdException Locked="false" Priority="31" QFormat="true"
   Name="Subtle Reference"/>
  <w:LsdException Locked="false" Priority="32" QFormat="true"
   Name="Intense Reference"/>
  <w:LsdException Locked="false" Priority="33" QFormat="true" Name="Book Title"/>
  <w:LsdException Locked="false" Priority="37" SemiHidden="true"
   UnhideWhenUsed="true" Name="Bibliography"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="TOC Heading"/>
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:-1610611985 1107304683 0 0 159 0;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:-1610611985 1073741899 0 0 159 0;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-1610611985 1073750139 0 0 159 0;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:1627400839 -2147483648 8 0 66047 0;}
@font-face
	{font-family:CMR10;
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-charset:0;
	mso-generic-font-family:auto;
	mso-font-format:other;
	mso-font-pitch:auto;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:"Arabic Transparent";
	mso-font-charset:178;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:8193 0 0 0 64 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";}
h1
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:16.0pt;
	font-family:"Arial","sans-serif";
	mso-font-kerning:16.0pt;}
h2
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:2;
	font-size:14.0pt;
	font-family:"Arial","sans-serif";
	font-style:italic;}
h3
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:3;
	font-size:13.0pt;
	font-family:"Arial","sans-serif";}
h4
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:4;
	font-size:14.0pt;
	font-family:"Times New Roman","serif";}
h5
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	mso-outline-level:5;
	font-size:13.0pt;
	font-family:"Times New Roman","serif";
	font-style:italic;}
h6
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	mso-outline-level:6;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	mso-outline-level:7;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";}
p.MsoHeading8, li.MsoHeading8, div.MsoHeading8
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	mso-outline-level:8;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";
	font-style:italic;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{mso-style-update:auto;
	mso-style-priority:39;
	mso-style-qformat:yes;
	mso-style-next:Normal;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:0in;
	line-height:115%;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{mso-style-update:auto;
	mso-style-priority:39;
	mso-style-qformat:yes;
	mso-style-next:Normal;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:11.0pt;
	line-height:115%;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{mso-style-update:auto;
	mso-style-priority:39;
	mso-style-qformat:yes;
	mso-style-next:Normal;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:22.0pt;
	line-height:115%;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-unhide:no;
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	tab-stops:center 3.0in right 6.0in;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-next:Normal;
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";
	font-weight:bold;}
p.MsoList, li.MsoList, div.MsoList
	{mso-style-unhide:no;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.25in;
	margin-bottom:.0001pt;
	text-indent:-.25in;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";}
p.MsoList2, li.MsoList2, div.MsoList2
	{mso-style-unhide:no;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	text-indent:-.25in;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";}
p.MsoList3, li.MsoList3, div.MsoList3
	{mso-style-unhide:no;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.75in;
	margin-bottom:.0001pt;
	text-indent:-.25in;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{mso-style-unhide:no;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";}
p.MsoBodyTextIndent, li.MsoBodyTextIndent, div.MsoBodyTextIndent
	{mso-style-unhide:no;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:.25in;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";}
p.MsoListContinue, li.MsoListContinue, div.MsoListContinue
	{mso-style-unhide:no;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:.25in;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";}
p.MsoBodyTextFirstIndent2, li.MsoBodyTextFirstIndent2, div.MsoBodyTextFirstIndent2
	{mso-style-unhide:no;
	mso-style-parent:"Body Text Indent";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:.25in;
	text-indent:10.5pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-unhide:no;
	mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";
	mso-fareast-font-family:"Times New Roman";}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{mso-style-priority:34;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	mso-add-space:auto;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{mso-style-priority:34;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-type:export-only;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	mso-add-space:auto;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{mso-style-priority:34;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-type:export-only;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	mso-add-space:auto;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{mso-style-priority:34;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-type:export-only;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	mso-add-space:auto;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{mso-style-noshow:yes;
	mso-style-priority:39;
	mso-style-qformat:yes;
	mso-style-parent:"Heading 1";
	mso-style-next:Normal;
	margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Cambria","serif";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:#365F91;
	font-weight:bold;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Balloon Text";
	mso-ansi-font-size:8.0pt;
	mso-bidi-font-size:8.0pt;
	font-family:"Tahoma","sans-serif";
	mso-ascii-font-family:Tahoma;
	mso-hansi-font-family:Tahoma;
	mso-bidi-font-family:Tahoma;}
 /* Page Definitions */
 @page
	{mso-footnote-separator:url("Design%20Document_files/header.html") fs;
	mso-footnote-continuation-separator:url("Design%20Document_files/header.html") fcs;
	mso-endnote-separator:url("Design%20Document_files/header.html") es;
	mso-endnote-continuation-separator:url("Design%20Document_files/header.html") ecs;}
@page Section1
	{size:8.5in 11.0in;
	margin:.75in 1.25in .75in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-even-footer:url("Design%20Document_files/header.html") ef1;
	mso-footer:url("Design%20Document_files/header.html") f1;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:1;
	mso-list-template-ids:1;
	mso-list-name:WW8Num1;}
@list l0:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level2
	{mso-level-tab-stop:.75in;
	mso-level-number-position:left;
	margin-left:.75in;
	text-indent:-.25in;}
@list l0:level3
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	margin-left:1.0in;
	text-indent:-.25in;}
@list l0:level4
	{mso-level-tab-stop:1.25in;
	mso-level-number-position:left;
	margin-left:1.25in;
	text-indent:-.25in;}
@list l0:level5
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	margin-left:1.5in;
	text-indent:-.25in;}
@list l0:level6
	{mso-level-tab-stop:1.75in;
	mso-level-number-position:left;
	margin-left:1.75in;
	text-indent:-.25in;}
@list l0:level7
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	margin-left:2.0in;
	text-indent:-.25in;}
@list l0:level8
	{mso-level-tab-stop:2.25in;
	mso-level-number-position:left;
	margin-left:2.25in;
	text-indent:-.25in;}
@list l0:level9
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	margin-left:2.5in;
	text-indent:-.25in;}
@list l1
	{mso-list-id:2;
	mso-list-template-ids:2;
	mso-list-name:WW8Num2;}
@list l1:level1
	{mso-level-start-at:2;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level2
	{mso-level-tab-stop:.75in;
	mso-level-number-position:left;
	margin-left:.75in;
	text-indent:-.25in;}
@list l1:level3
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	margin-left:1.0in;
	text-indent:-.25in;}
@list l1:level4
	{mso-level-tab-stop:1.25in;
	mso-level-number-position:left;
	margin-left:1.25in;
	text-indent:-.25in;}
@list l1:level5
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	margin-left:1.5in;
	text-indent:-.25in;}
@list l1:level6
	{mso-level-tab-stop:1.75in;
	mso-level-number-position:left;
	margin-left:1.75in;
	text-indent:-.25in;}
@list l1:level7
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	margin-left:2.0in;
	text-indent:-.25in;}
@list l1:level8
	{mso-level-tab-stop:2.25in;
	mso-level-number-position:left;
	margin-left:2.25in;
	text-indent:-.25in;}
@list l1:level9
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	margin-left:2.5in;
	text-indent:-.25in;}
@list l2
	{mso-list-id:3;
	mso-list-template-ids:3;
	mso-list-name:WW8Num3;}
@list l2:level1
	{mso-level-start-at:3;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level2
	{mso-level-tab-stop:.75in;
	mso-level-number-position:left;
	margin-left:.75in;
	text-indent:-.25in;}
@list l2:level3
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	margin-left:1.0in;
	text-indent:-.25in;}
@list l2:level4
	{mso-level-tab-stop:1.25in;
	mso-level-number-position:left;
	margin-left:1.25in;
	text-indent:-.25in;}
@list l2:level5
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	margin-left:1.5in;
	text-indent:-.25in;}
@list l2:level6
	{mso-level-tab-stop:1.75in;
	mso-level-number-position:left;
	margin-left:1.75in;
	text-indent:-.25in;}
@list l2:level7
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	margin-left:2.0in;
	text-indent:-.25in;}
@list l2:level8
	{mso-level-tab-stop:2.25in;
	mso-level-number-position:left;
	margin-left:2.25in;
	text-indent:-.25in;}
@list l2:level9
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	margin-left:2.5in;
	text-indent:-.25in;}
@list l3
	{mso-list-id:4;
	mso-list-template-ids:4;
	mso-list-name:WW8Num4;}
@list l3:level1
	{mso-level-start-at:4;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level2
	{mso-level-tab-stop:.75in;
	mso-level-number-position:left;
	margin-left:.75in;
	text-indent:-.25in;}
@list l3:level3
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	margin-left:1.0in;
	text-indent:-.25in;}
@list l3:level4
	{mso-level-tab-stop:1.25in;
	mso-level-number-position:left;
	margin-left:1.25in;
	text-indent:-.25in;}
@list l3:level5
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	margin-left:1.5in;
	text-indent:-.25in;}
@list l3:level6
	{mso-level-tab-stop:1.75in;
	mso-level-number-position:left;
	margin-left:1.75in;
	text-indent:-.25in;}
@list l3:level7
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	margin-left:2.0in;
	text-indent:-.25in;}
@list l3:level8
	{mso-level-tab-stop:2.25in;
	mso-level-number-position:left;
	margin-left:2.25in;
	text-indent:-.25in;}
@list l3:level9
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	margin-left:2.5in;
	text-indent:-.25in;}
@list l4
	{mso-list-id:123041822;
	mso-list-type:hybrid;
	mso-list-template-ids:-1197825716 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l4:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l5
	{mso-list-id:250899313;
	mso-list-type:hybrid;
	mso-list-template-ids:745154910 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l5:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l6
	{mso-list-id:268926605;
	mso-list-type:hybrid;
	mso-list-template-ids:1780527162 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l6:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l7
	{mso-list-id:290408643;
	mso-list-template-ids:1151338106;}
@list l7:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l8
	{mso-list-id:345788346;
	mso-list-type:hybrid;
	mso-list-template-ids:690903136 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l8:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
@list l9
	{mso-list-id:407466170;
	mso-list-type:hybrid;
	mso-list-template-ids:-1495484630 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l9:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l9:level2
	{mso-level-number-format:alpha-lower;
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l10
	{mso-list-id:479542806;
	mso-list-type:hybrid;
	mso-list-template-ids:627839904 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l10:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l11
	{mso-list-id:479733322;
	mso-list-type:hybrid;
	mso-list-template-ids:723420042 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l11:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l12
	{mso-list-id:510990302;
	mso-list-type:hybrid;
	mso-list-template-ids:-1837586428 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l12:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l13
	{mso-list-id:527334240;
	mso-list-template-ids:-703700730;}
@list l13:level1
	{mso-level-start-at:5;
	mso-level-text:%1;
	mso-level-tab-stop:24.0pt;
	mso-level-number-position:left;
	margin-left:24.0pt;
	text-indent:-24.0pt;}
@list l13:level2
	{mso-level-start-at:2;
	mso-level-text:"%1\.%2";
	mso-level-tab-stop:24.0pt;
	mso-level-number-position:left;
	margin-left:24.0pt;
	text-indent:-24.0pt;}
@list l13:level3
	{mso-level-start-at:2;
	mso-level-text:"%1\.%2\.%3";
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	margin-left:.5in;
	text-indent:-.5in;}
@list l13:level4
	{mso-level-text:"%1\.%2\.%3\.%4";
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	margin-left:.5in;
	text-indent:-.5in;}
@list l13:level5
	{mso-level-text:"%1\.%2\.%3\.%4\.%5";
	mso-level-tab-stop:.75in;
	mso-level-number-position:left;
	margin-left:.75in;
	text-indent:-.75in;}
@list l13:level6
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6";
	mso-level-tab-stop:.75in;
	mso-level-number-position:left;
	margin-left:.75in;
	text-indent:-.75in;}
@list l13:level7
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7";
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	margin-left:1.0in;
	text-indent:-1.0in;}
@list l13:level8
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8";
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	margin-left:1.0in;
	text-indent:-1.0in;}
@list l13:level9
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8\.%9";
	mso-level-tab-stop:1.25in;
	mso-level-number-position:left;
	margin-left:1.25in;
	text-indent:-1.25in;}
@list l14
	{mso-list-id:624388542;
	mso-list-type:hybrid;
	mso-list-template-ids:-220039184 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l14:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l15
	{mso-list-id:644162499;
	mso-list-type:hybrid;
	mso-list-template-ids:733903884 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l15:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l16
	{mso-list-id:701903848;
	mso-list-template-ids:1151338106;}
@list l16:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l17
	{mso-list-id:820000116;
	mso-list-type:hybrid;
	mso-list-template-ids:-904657980 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l17:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l18
	{mso-list-id:853612052;
	mso-list-type:hybrid;
	mso-list-template-ids:1151338106 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l18:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l19
	{mso-list-id:860976185;
	mso-list-template-ids:1151338106;}
@list l19:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l20
	{mso-list-id:894127114;
	mso-list-template-ids:1151338106;}
@list l20:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l21
	{mso-list-id:896353388;
	mso-list-type:hybrid;
	mso-list-template-ids:1239691744 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l21:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l22
	{mso-list-id:904953579;
	mso-list-type:hybrid;
	mso-list-template-ids:-1414076056 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l22:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l23
	{mso-list-id:977761862;
	mso-list-type:hybrid;
	mso-list-template-ids:1279924094 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l23:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l24
	{mso-list-id:1021976294;
	mso-list-template-ids:1629132068;}
@list l24:level1
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:.75in;
	text-indent:-.5in;}
@list l24:level2
	{mso-level-legal-format:yes;
	mso-level-text:"%1\.%2";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:.75in;
	text-indent:-.5in;}
@list l24:level3
	{mso-level-legal-format:yes;
	mso-level-text:"%1\.%2\.%3";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:.75in;
	text-indent:-.5in;}
@list l24:level4
	{mso-level-legal-format:yes;
	mso-level-text:"%1\.%2\.%3\.%4";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:1.0in;
	text-indent:-.75in;}
@list l24:level5
	{mso-level-legal-format:yes;
	mso-level-text:"%1\.%2\.%3\.%4\.%5";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:1.0in;
	text-indent:-.75in;}
@list l24:level6
	{mso-level-legal-format:yes;
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:1.25in;
	text-indent:-1.0in;}
@list l24:level7
	{mso-level-legal-format:yes;
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:1.25in;
	text-indent:-1.0in;}
@list l24:level8
	{mso-level-legal-format:yes;
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:1.5in;
	text-indent:-1.25in;}
@list l24:level9
	{mso-level-legal-format:yes;
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8\.%9";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:1.75in;
	text-indent:-1.5in;}
@list l25
	{mso-list-id:1038164231;
	mso-list-template-ids:-2049275846;}
@list l25:level1
	{mso-level-tab-stop:39.0pt;
	mso-level-number-position:left;
	margin-left:39.0pt;
	text-indent:-.25in;}
@list l25:level2
	{mso-level-start-at:3;
	mso-level-legal-format:yes;
	mso-level-text:"%1\.%2";
	mso-level-tab-stop:66.0pt;
	mso-level-number-position:left;
	margin-left:66.0pt;
	text-indent:-45.0pt;}
@list l25:level3
	{mso-level-start-at:2;
	mso-level-legal-format:yes;
	mso-level-text:"%1\.%2\.%3";
	mso-level-tab-stop:66.0pt;
	mso-level-number-position:left;
	margin-left:66.0pt;
	text-indent:-45.0pt;}
@list l25:level4
	{mso-level-start-at:4;
	mso-level-legal-format:yes;
	mso-level-text:"%1\.%2\.%3\.%4";
	mso-level-tab-stop:66.0pt;
	mso-level-number-position:left;
	margin-left:66.0pt;
	text-indent:-45.0pt;}
@list l25:level5
	{mso-level-legal-format:yes;
	mso-level-text:"%1\.%2\.%3\.%4\.%5";
	mso-level-tab-stop:75.0pt;
	mso-level-number-position:left;
	margin-left:75.0pt;
	text-indent:-.75in;}
@list l25:level6
	{mso-level-legal-format:yes;
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6";
	mso-level-tab-stop:75.0pt;
	mso-level-number-position:left;
	margin-left:75.0pt;
	text-indent:-.75in;}
@list l25:level7
	{mso-level-legal-format:yes;
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7";
	mso-level-tab-stop:93.0pt;
	mso-level-number-position:left;
	margin-left:93.0pt;
	text-indent:-1.0in;}
@list l25:level8
	{mso-level-legal-format:yes;
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8";
	mso-level-tab-stop:93.0pt;
	mso-level-number-position:left;
	margin-left:93.0pt;
	text-indent:-1.0in;}
@list l25:level9
	{mso-level-legal-format:yes;
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8\.%9";
	mso-level-tab-stop:111.0pt;
	mso-level-number-position:left;
	margin-left:111.0pt;
	text-indent:-1.25in;}
@list l26
	{mso-list-id:1145975054;
	mso-list-type:hybrid;
	mso-list-template-ids:1417210958 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l26:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l26:level2
	{mso-level-number-format:alpha-lower;
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l26:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:1.5in;
	mso-level-number-position:right;
	text-indent:-9.0pt;}
@list l27
	{mso-list-id:1214073714;
	mso-list-template-ids:1151338106;}
@list l27:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l28
	{mso-list-id:1311208630;
	mso-list-template-ids:-1105315478;}
@list l28:level1
	{mso-level-tab-stop:.25in;
	mso-level-number-position:left;
	margin-left:.25in;
	text-indent:-.25in;}
@list l28:level2
	{mso-level-text:"%1\.%2\.";
	mso-level-tab-stop:.55in;
	mso-level-number-position:left;
	margin-left:.55in;
	text-indent:-.3in;
	mso-ansi-font-weight:normal;}
@list l28:level3
	{mso-level-text:"%1\.%2\.%3\.";
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	margin-left:.85in;
	text-indent:-.35in;
	mso-ansi-font-weight:normal;}
@list l28:level4
	{mso-level-text:"%1\.%2\.%3\.%4\.";
	mso-level-tab-stop:1.25in;
	mso-level-number-position:left;
	margin-left:1.2in;
	text-indent:-.45in;}
@list l28:level5
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.";
	mso-level-tab-stop:1.75in;
	mso-level-number-position:left;
	margin-left:1.55in;
	text-indent:-.55in;}
@list l28:level6
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.";
	mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	margin-left:1.9in;
	text-indent:-.65in;}
@list l28:level7
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.";
	mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	margin-left:2.25in;
	text-indent:-.75in;}
@list l28:level8
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8\.";
	mso-level-tab-stop:2.75in;
	mso-level-number-position:left;
	margin-left:2.6in;
	text-indent:-.85in;}
@list l28:level9
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8\.%9\.";
	mso-level-tab-stop:3.25in;
	mso-level-number-position:left;
	margin-left:3.0in;
	text-indent:-1.0in;}
@list l29
	{mso-list-id:1329480915;
	mso-list-template-ids:1250621716;}
@list l29:level1
	{mso-level-start-at:5;
	mso-level-text:%1;
	mso-level-tab-stop:24.0pt;
	mso-level-number-position:left;
	margin-left:24.0pt;
	text-indent:-24.0pt;}
@list l29:level2
	{mso-level-text:"%1\.%2";
	mso-level-tab-stop:24.0pt;
	mso-level-number-position:left;
	margin-left:24.0pt;
	text-indent:-24.0pt;}
@list l29:level3
	{mso-level-start-at:3;
	mso-level-text:"%1\.%2\.%3";
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	margin-left:.5in;
	text-indent:-.5in;}
@list l29:level4
	{mso-level-text:"%1\.%2\.%3\.%4";
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	margin-left:.5in;
	text-indent:-.5in;}
@list l29:level5
	{mso-level-text:"%1\.%2\.%3\.%4\.%5";
	mso-level-tab-stop:.75in;
	mso-level-number-position:left;
	margin-left:.75in;
	text-indent:-.75in;}
@list l29:level6
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6";
	mso-level-tab-stop:.75in;
	mso-level-number-position:left;
	margin-left:.75in;
	text-indent:-.75in;}
@list l29:level7
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7";
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	margin-left:1.0in;
	text-indent:-1.0in;}
@list l29:level8
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8";
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	margin-left:1.0in;
	text-indent:-1.0in;}
@list l29:level9
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8\.%9";
	mso-level-tab-stop:1.25in;
	mso-level-number-position:left;
	margin-left:1.25in;
	text-indent:-1.25in;}
@list l30
	{mso-list-id:1341856541;
	mso-list-type:hybrid;
	mso-list-template-ids:-679712266 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l30:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l31
	{mso-list-id:1548641741;
	mso-list-type:hybrid;
	mso-list-template-ids:1995309284 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l31:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l32
	{mso-list-id:1769694964;
	mso-list-type:hybrid;
	mso-list-template-ids:-678022672 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l32:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l33
	{mso-list-id:2005232920;
	mso-list-template-ids:282861742;}
@list l33:level1
	{mso-level-start-at:3;
	mso-level-text:%1;
	mso-level-tab-stop:24.0pt;
	mso-level-number-position:left;
	margin-left:24.0pt;
	text-indent:-24.0pt;}
@list l33:level2
	{mso-level-text:"%1\.%2";
	mso-level-tab-stop:24.0pt;
	mso-level-number-position:left;
	margin-left:24.0pt;
	text-indent:-24.0pt;}
@list l33:level3
	{mso-level-start-at:3;
	mso-level-text:"%1\.%2\.%3";
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	margin-left:.5in;
	text-indent:-.5in;}
@list l33:level4
	{mso-level-text:"%1\.%2\.%3\.%4";
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	margin-left:.5in;
	text-indent:-.5in;}
@list l33:level5
	{mso-level-text:"%1\.%2\.%3\.%4\.%5";
	mso-level-tab-stop:.75in;
	mso-level-number-position:left;
	margin-left:.75in;
	text-indent:-.75in;}
@list l33:level6
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6";
	mso-level-tab-stop:.75in;
	mso-level-number-position:left;
	margin-left:.75in;
	text-indent:-.75in;}
@list l33:level7
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7";
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	margin-left:1.0in;
	text-indent:-1.0in;}
@list l33:level8
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8";
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	margin-left:1.0in;
	text-indent:-1.0in;}
@list l33:level9
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8\.%9";
	mso-level-tab-stop:1.25in;
	mso-level-number-position:left;
	margin-left:1.25in;
	text-indent:-1.25in;}
@list l34
	{mso-list-id:2116094954;
	mso-list-template-ids:-1602553252;}
@list l34:level1
	{mso-level-start-at:3;
	mso-level-text:%1;
	mso-level-tab-stop:24.0pt;
	mso-level-number-position:left;
	margin-left:24.0pt;
	text-indent:-24.0pt;}
@list l34:level2
	{mso-level-start-at:2;
	mso-level-text:"%1\.%2";
	mso-level-tab-stop:24.0pt;
	mso-level-number-position:left;
	margin-left:24.0pt;
	text-indent:-24.0pt;}
@list l34:level3
	{mso-level-start-at:2;
	mso-level-text:"%1\.%2\.%3";
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	margin-left:.5in;
	text-indent:-.5in;}
@list l34:level4
	{mso-level-text:"%1\.%2\.%3\.%4";
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	margin-left:.5in;
	text-indent:-.5in;}
@list l34:level5
	{mso-level-text:"%1\.%2\.%3\.%4\.%5";
	mso-level-tab-stop:.75in;
	mso-level-number-position:left;
	margin-left:.75in;
	text-indent:-.75in;}
@list l34:level6
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6";
	mso-level-tab-stop:.75in;
	mso-level-number-position:left;
	margin-left:.75in;
	text-indent:-.75in;}
@list l34:level7
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7";
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	margin-left:1.0in;
	text-indent:-1.0in;}
@list l34:level8
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8";
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	margin-left:1.0in;
	text-indent:-1.0in;}
@list l34:level9
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8\.%9";
	mso-level-tab-stop:1.25in;
	mso-level-number-position:left;
	margin-left:1.25in;
	text-indent:-1.25in;}
@list l35
	{mso-list-id:2145999076;
	mso-list-template-ids:1151338106;}
@list l35:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-qformat:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman","serif";}
table.MsoTableGrid
	{mso-style-name:"Table Grid";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-unhide:no;
	border:solid windowtext 1.0pt;
	mso-border-alt:solid windowtext .5pt;
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-border-insideh:.5pt solid windowtext;
	mso-border-insidev:.5pt solid windowtext;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman","serif";}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="3074">
  <o:colormenu v:ext="edit" fillcolor="none" strokecolor="black"/>
 </o:shapedefaults></xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
  <o:regrouptable v:ext="edit">
   <o:entry new="1" old="0"/>
   <o:entry new="2" old="0"/>
   <o:entry new="3" old="0"/>
  </o:regrouptable>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=EN-US style='tab-interval:.5in'>

<div class=Section1>

<p class=MsoNormal align=center style='text-align:center;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='font-size:16.0pt;line-height:
150%'>Contents<o:p></o:p></span></b></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='font-size:14.0pt'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='font-size:16.0pt'><o:p>&nbsp;</o:p></span></b></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=553 style='width:414.9pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-hyphenate:none;tab-stops:6.0in'><b
  style='mso-bidi-font-weight:normal'>List of Figures</b><b style='mso-bidi-font-weight:
  normal'><span style='mso-fareast-language:AR-SA'><o:p></o:p></span></b></p>
  </td>
  <td width=37 style='width:27.9pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  mso-hyphenate:none;tab-stops:6.0in'><b style='mso-bidi-font-weight:normal'>1</b><b
  style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><o:p></o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=553 style='width:414.9pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-left:.25in;text-indent:-.25in;line-height:
  150%;mso-list:l28 level1 lfo17;mso-hyphenate:none;tab-stops:list .25in left 6.0in'><![if !supportLists]><b
  style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><span
  style='mso-list:Ignore'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
  style='mso-fareast-language:AR-SA'>Introduction<o:p></o:p></span></b></p>
  <p class=MsoNormal style='margin-left:.55in;text-indent:-.3in;line-height:
  150%;mso-list:l28 level2 lfo17;mso-hyphenate:none;tab-stops:list 45.0pt left 6.0in'><![if !supportLists]><span
  style='mso-list:Ignore'>1.1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><![endif]>Background<b style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  <p class=MsoNormal style='margin-left:.55in;text-indent:-.3in;line-height:
  150%;mso-list:l28 level2 lfo17;mso-hyphenate:none;tab-stops:list 45.0pt left 6.0in'><![if !supportLists]><span
  style='mso-list:Ignore'>1.2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><![endif]>The Journey<b style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  <p class=MsoNormal style='margin-left:.55in;text-indent:-.3in;line-height:
  150%;mso-list:l28 level2 lfo17;mso-hyphenate:none;tab-stops:list 45.0pt left 6.0in'><![if !supportLists]><span
  style='mso-fareast-language:AR-SA'><span style='mso-list:Ignore'>1.3.<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]>Trivia<b
  style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><o:p></o:p></span></b></p>
  </td>
  <td width=37 style='width:27.9pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  tab-stops:6.0in'><b style='mso-bidi-font-weight:normal'>3</b><b
  style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><o:p></o:p></span></b></p>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  tab-stops:6.0in'>3</p>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  tab-stops:6.0in'>3</p>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  mso-hyphenate:none;tab-stops:6.0in'>4<span style='mso-fareast-language:AR-SA'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=553 style='width:414.9pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-left:.25in;text-indent:-.25in;line-height:
  150%;mso-list:l28 level1 lfo17;mso-hyphenate:none;tab-stops:list .25in left 6.0in'><![if !supportLists]><b
  style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><span
  style='mso-list:Ignore'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
  style='mso-fareast-language:AR-SA'>System Architecture<o:p></o:p></span></b></p>
  </td>
  <td width=37 style='width:27.9pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  tab-stops:6.0in'><b style='mso-bidi-font-weight:normal'>5</b><b
  style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><o:p></o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=553 style='width:414.9pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-left:.25in;text-indent:-.25in;line-height:
  150%;mso-list:l28 level1 lfo17;mso-hyphenate:none;tab-stops:list .25in left 6.0in'><![if !supportLists]><b
  style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><span
  style='mso-list:Ignore'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'>Design
  of the alarm clock and the thread system</b><b style='mso-bidi-font-weight:
  normal'><span style='mso-fareast-language:AR-SA'><o:p></o:p></span></b></p>
  <p class=MsoNormal style='margin-left:.55in;text-indent:-.3in;line-height:
  150%;mso-list:l28 level2 lfo17;mso-hyphenate:none;tab-stops:list 45.0pt left 6.0in'><![if !supportLists]><span
  style='mso-list:Ignore'>3.1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><![endif]>Design of the synchronization primitives<b
  style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  <p class=MsoNormal style='margin-left:.55in;text-indent:-.3in;line-height:
  150%;mso-list:l28 level2 lfo17;mso-hyphenate:none;tab-stops:list 45.0pt left 6.0in'><![if !supportLists]><span
  style='mso-list:Ignore'>3.2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><![endif]>The alarm clock<b style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  <p class=MsoNormal style='margin-left:.55in;text-indent:-.3in;line-height:
  150%;mso-list:l28 level2 lfo17;mso-hyphenate:none;tab-stops:list 45.0pt left 6.0in'><![if !supportLists]><span
  style='mso-list:Ignore'>3.3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><![endif]>The priority scheduler<b style='mso-bidi-font-weight:
  normal'><o:p></o:p></b></p>
  <p class=MsoNormal style='margin-left:.55in;text-indent:-.3in;line-height:
  150%;mso-list:l28 level2 lfo17;mso-hyphenate:none;tab-stops:list 45.0pt left 6.0in'><![if !supportLists]><span
  style='mso-list:Ignore'>3.4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><![endif]>The advanced scheduler<b style='mso-bidi-font-weight:
  normal'><o:p></o:p></b></p>
  <p class=MsoNormal style='margin-left:.55in;text-indent:-.3in;line-height:
  150%;mso-list:l28 level2 lfo17;mso-hyphenate:none;tab-stops:list 45.0pt left 6.0in'><![if !supportLists]><span
  style='mso-list:Ignore'>3.5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><![endif]>Deadlock Avoidance<b style='mso-bidi-font-weight:
  normal'><o:p></o:p></b></p>
  </td>
  <td width=37 style='width:27.9pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  tab-stops:6.0in'><b style='mso-bidi-font-weight:normal'><span
  style='mso-fareast-language:AR-SA'>7<o:p></o:p></span></b></p>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  tab-stops:6.0in'>7</p>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  tab-stops:6.0in'>7</p>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  tab-stops:6.0in'>10</p>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  tab-stops:6.0in'>13</p>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  tab-stops:6.0in'>16</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=553 style='width:414.9pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-left:.25in;text-indent:-.25in;line-height:
  150%;mso-list:l28 level1 lfo17;mso-hyphenate:none;tab-stops:list .25in left 6.0in'><![if !supportLists]><b
  style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><span
  style='mso-list:Ignore'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
  style='mso-fareast-language:AR-SA'>User Processes and System Calls<o:p></o:p></span></b></p>
  <p class=MsoNormal style='margin-left:.55in;text-indent:-.3in;line-height:
  150%;mso-list:l28 level2 lfo17;mso-hyphenate:none;tab-stops:list 45.0pt left 6.0in'><![if !supportLists]><span
  style='mso-list:Ignore'>4.1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><![endif]>Design of the process management utilities</p>
  <p class=MsoNormal style='margin-left:.55in;text-indent:-.3in;line-height:
  150%;mso-list:l28 level2 lfo17;mso-hyphenate:none;tab-stops:list 45.0pt left 6.0in'><![if !supportLists]><span
  style='mso-list:Ignore'>4.2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><![endif]>System Calls</p>
  </td>
  <td width=37 style='width:27.9pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  tab-stops:6.0in'><b style='mso-bidi-font-weight:normal'>18</b><b
  style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><o:p></o:p></span></b></p>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  tab-stops:6.0in'>18</p>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  tab-stops:6.0in'>22</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5'>
  <td width=553 style='width:414.9pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-left:.25in;text-indent:-.25in;line-height:
  150%;mso-list:l28 level1 lfo17;mso-hyphenate:none;tab-stops:list .25in left 6.0in'><![if !supportLists]><b
  style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><span
  style='mso-list:Ignore'>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
  style='mso-fareast-language:AR-SA'>Virtual Memory<o:p></o:p></span></b></p>
  <p class=MsoNormal style='margin-left:.55in;text-indent:-.3in;line-height:
  150%;mso-list:l28 level2 lfo17;mso-hyphenate:none;tab-stops:list 45.0pt left 6.0in'><![if !supportLists]><span
  style='mso-list:Ignore'>5.1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><![endif]>Memory terminology</p>
  <p class=MsoNormal style='margin-left:.55in;text-indent:-.3in;line-height:
  150%;mso-list:l28 level2 lfo17;mso-hyphenate:none;tab-stops:list 45.0pt left 6.0in'><![if !supportLists]><span
  style='mso-list:Ignore'>5.2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><![endif]>Frame Table Management</p>
  <p class=MsoNormal style='margin-left:.55in;text-indent:-.3in;line-height:
  150%;mso-list:l28 level2 lfo17;mso-hyphenate:none;tab-stops:list 45.0pt left 6.0in'><![if !supportLists]><span
  style='mso-list:Ignore'>5.3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><![endif]>The Page Fault Handler</p>
  <p class=MsoNormal style='margin-left:.55in;text-indent:-.3in;line-height:
  150%;mso-list:l28 level2 lfo17;mso-hyphenate:none;tab-stops:list 45.0pt left 6.0in'><![if !supportLists]><span
  style='mso-list:Ignore'>5.4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><![endif]>Memory Mapped Files</p>
  <p class=MsoNormal style='margin-left:.55in;text-indent:-.3in;line-height:
  150%;mso-list:l28 level2 lfo17;mso-hyphenate:none;tab-stops:list 45.0pt left 6.0in'><![if !supportLists]><span
  style='mso-list:Ignore'>5.5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><![endif]>Stack Growth</p>
  </td>
  <td width=37 style='width:27.9pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  mso-hyphenate:none;tab-stops:6.0in'><b style='mso-bidi-font-weight:normal'>24<o:p></o:p></b></p>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  mso-hyphenate:none;tab-stops:6.0in'>24</p>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  mso-hyphenate:none;tab-stops:6.0in'><span style='mso-fareast-language:AR-SA'>25<o:p></o:p></span></p>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  mso-hyphenate:none;tab-stops:6.0in'><span style='mso-fareast-language:AR-SA'>29<o:p></o:p></span></p>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  mso-hyphenate:none;tab-stops:6.0in'><span style='mso-fareast-language:AR-SA'>29<o:p></o:p></span></p>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  mso-hyphenate:none;tab-stops:6.0in'><span style='mso-fareast-language:AR-SA'>32<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6'>
  <td width=553 style='width:414.9pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-left:.25in;text-indent:-.25in;line-height:
  150%;mso-list:l28 level1 lfo17;mso-hyphenate:none;tab-stops:list .25in left 6.0in'><![if !supportLists]><b
  style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><span
  style='mso-list:Ignore'>6.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
  style='mso-fareast-language:AR-SA'>File System<o:p></o:p></span></b></p>
  <p class=MsoNormal style='margin-left:.25in;line-height:150%;mso-hyphenate:
  none;tab-stops:6.0in'>Implementation of a hierarchical namespace</p>
  </td>
  <td width=37 style='width:27.9pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  mso-hyphenate:none;tab-stops:6.0in'><b style='mso-bidi-font-weight:normal'>33<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:7'>
  <td width=553 style='width:414.9pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-left:.25in;text-indent:-.25in;line-height:
  150%;mso-list:l28 level1 lfo17;mso-hyphenate:none;tab-stops:list .25in left 6.0in'><![if !supportLists]><b
  style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><span
  style='mso-list:Ignore'>7.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
  style='mso-fareast-language:AR-SA'>Test Documentation<o:p></o:p></span></b></p>
  </td>
  <td width=37 style='width:27.9pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  mso-hyphenate:none;tab-stops:6.0in'><b style='mso-bidi-font-weight:normal'>34<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:8'>
  <td width=553 style='width:414.9pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-left:.25in;text-indent:-.25in;line-height:
  150%;mso-list:l28 level1 lfo17;mso-hyphenate:none;tab-stops:list .25in left 6.0in'><![if !supportLists]><b
  style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><span
  style='mso-list:Ignore'>8.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
  style='mso-fareast-language:AR-SA'>Future Work<o:p></o:p></span></b></p>
  </td>
  <td width=37 style='width:27.9pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  mso-hyphenate:none;tab-stops:6.0in'><b style='mso-bidi-font-weight:normal'>39<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:9;mso-yfti-lastrow:yes'>
  <td width=553 style='width:414.9pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-hyphenate:none;tab-stops:6.0in'><b
  style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>Bibliography<o:p></o:p></span></b></p>
  </td>
  <td width=37 style='width:27.9pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  mso-hyphenate:none;tab-stops:6.0in'><b style='mso-bidi-font-weight:normal'>40<o:p></o:p></b></p>
  </td>
 </tr>
</table>

<span style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman";mso-ansi-language:EN-US;mso-fareast-language:EN-US;
mso-bidi-language:AR-SA'><br clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='font-size:16.0pt'>List of Figures<o:p></o:p></span></b></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='font-size:16.0pt'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='font-size:16.0pt'><o:p>&nbsp;</o:p></span></b></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=559 style='width:419.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-hyphenate:none;tab-stops:6.0in'>2.1
  System Architecture<span style='mso-fareast-language:AR-SA'><o:p></o:p></span></p>
  </td>
  <td width=31 style='width:23.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  mso-hyphenate:none;tab-stops:6.0in'>2<span style='mso-fareast-language:AR-SA'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=559 style='width:419.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-hyphenate:none;tab-stops:list 45.0pt left 6.0in'>3.1
  A sleep element</p>
  </td>
  <td width=31 style='width:23.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  mso-hyphenate:none;tab-stops:6.0in'><span style='mso-fareast-language:AR-SA'>6<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=559 style='width:419.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-hyphenate:none;tab-stops:list 45.0pt left 6.0in'>3.2
  A lock element<span style='mso-fareast-language:AR-SA'><o:p></o:p></span></p>
  </td>
  <td width=31 style='width:23.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  mso-hyphenate:none;tab-stops:6.0in'>9<span style='mso-fareast-language:AR-SA'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=559 style='width:419.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-hyphenate:none;tab-stops:6.0in'>4.1
  Structure of a thread (PCB)<span style='mso-fareast-language:AR-SA'><o:p></o:p></span></p>
  </td>
  <td width=31 style='width:23.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  mso-hyphenate:none;tab-stops:6.0in'>17<span style='mso-fareast-language:AR-SA'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=559 style='width:419.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>4.2 A file descriptor</p>
  </td>
  <td width=31 style='width:23.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  mso-hyphenate:none;tab-stops:6.0in'><span style='mso-fareast-language:AR-SA'>20<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5'>
  <td width=559 style='width:419.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>5.1 Virtual Address</p>
  </td>
  <td width=31 style='width:23.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  mso-hyphenate:none;tab-stops:6.0in'>22<span style='mso-fareast-language:AR-SA'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6'>
  <td width=559 style='width:419.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-hyphenate:none;tab-stops:list 45.0pt left 6.0in'>5.2
  Physical Address</p>
  </td>
  <td width=31 style='width:23.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  mso-hyphenate:none;tab-stops:6.0in'>22<span style='mso-fareast-language:AR-SA'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:7'>
  <td width=559 style='width:419.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-hyphenate:none;tab-stops:6.0in'>5.3
  Conversion from virtual address to physical address</p>
  </td>
  <td width=31 style='width:23.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  mso-hyphenate:none;tab-stops:6.0in'>23<span style='mso-fareast-language:AR-SA'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:8;mso-yfti-lastrow:yes'>
  <td width=559 style='width:419.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>5.4 A frame table entry</p>
  </td>
  <td width=31 style='width:23.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right;line-height:150%;
  mso-hyphenate:none;tab-stops:6.0in'>24<span style='mso-fareast-language:AR-SA'><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='font-size:16.0pt;color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='line-height:150%'><b style='mso-bidi-font-weight:
normal'><span style='font-size:16.0pt;line-height:150%'><o:p>&nbsp;</o:p></span></b></p>

<b style='mso-bidi-font-weight:normal'><span style='font-size:16.0pt;
font-family:"Times New Roman","serif";mso-fareast-font-family:"Times New Roman";
mso-ansi-language:EN-US;mso-fareast-language:EN-US;mso-bidi-language:AR-SA'><br
clear=all style='mso-special-character:line-break;page-break-before:always'>
</span></b>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='font-size:16.0pt'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoListParagraph style='margin-left:0in;mso-add-space:auto;text-indent:
0in;line-height:150%;mso-list:l24 level1 lfo36'><![if !supportLists]><b
style='mso-bidi-font-weight:normal'><span style='font-size:16.0pt;line-height:
150%'><span style='mso-list:Ignore'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
style='font-size:16.0pt;line-height:150%'>Introduction<o:p></o:p></span></b></p>

<p class=MsoNormal style='line-height:150%'><b style='mso-bidi-font-weight:
normal'><span style='font-size:14.0pt;line-height:150%'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='line-height:150%'><b style='mso-bidi-font-weight:
normal'><span style='font-size:14.0pt;line-height:150%'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoListParagraph style='margin-left:0in;mso-add-space:auto;text-align:
justify;text-indent:0in;line-height:150%;mso-list:l24 level2 lfo36'><![if !supportLists]><b><span
style='font-size:14.0pt;line-height:150%;mso-fareast-language:AR-SA'><span
style='mso-list:Ignore'>1.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></b><![endif]><b><span style='font-size:14.0pt;line-height:
150%;mso-fareast-language:AR-SA'>Background<o:p></o:p></span></b></p>

<p class=MsoNormal style='line-height:150%'><b style='mso-bidi-font-weight:
normal'><span style='font-size:14.0pt;line-height:150%'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'>Pintos is a
simple operating system framework for the 80x86 architecture.<span
style='mso-spacerun:yes'> </span>Developed at the Stanford University, this
kernel can be used as a base, by aspiring developers to design their own
kernels from scratch to finish.<span style='mso-spacerun:yes'> </span>The
focus of this project was to build a modern kernel called <i style='mso-bidi-font-style:
normal'>burritos</i> from the primitive pintos in a step by step approach. </p>

<p class=MsoNormal style='line-height:150%'><b style='mso-bidi-font-weight:
normal'><span style='font-size:14.0pt;line-height:150%'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoListParagraph style='margin-left:0in;mso-add-space:auto;text-align:
justify;text-indent:0in;line-height:150%;mso-list:l24 level2 lfo36'><![if !supportLists]><b><span
style='font-size:14.0pt;line-height:150%;mso-fareast-language:AR-SA'><span
style='mso-list:Ignore'>1.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></b><![endif]><b><span style='font-size:14.0pt;line-height:
150%;mso-fareast-language:AR-SA'>The Journey<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'>The journey from
pintos to burritos involved the following stages of development:-</p>

<p class=MsoNormal style='line-height:150%'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:0in;text-indent:0in;line-height:150%;
mso-list:l0 level1 lfo20;mso-hyphenate:none;tab-stops:27.0pt'><![if !supportLists]><span
style='mso-list:Ignore'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]><u>Design of the alarm clock and implementation of the
threads system.<o:p></o:p></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'>Synchronization
primitives like semaphores, locks and condition variables were designed and the
primitive alarm clock of pintos was re-implemented using sleep and wakeup
operations to eliminate the inefficient and dangerous 'busy waiting.</p>

<p class=MsoNormal style='margin-left:38.25pt;text-align:justify;line-height:
150%'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'>A priority
scheduler was built as a replacement for the round robin scheduler of
pintos.<span style='mso-spacerun:yes'> </span>Priority donation algorithms
were designed to fix the priority inversion problem.<span
style='mso-spacerun:yes'> </span>Then the priority scheduler was further
extended to a Multi-level Feedback Queue Scheduler similar to the 4.4 BSD
Scheduler.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'>A deadlock
avoidance algorithm was designed so that the threads in burritos never run into
deadlocks.</p>

<p class=MsoNormal style='margin-left:38.25pt;line-height:150%'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:-.5in;line-height:150%;
mso-list:l1 level1 lfo21;mso-hyphenate:none;tab-stops:27.0pt'><![if !supportLists]><span
style='mso-list:Ignore'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]><u>User processes and System Calls<o:p></o:p></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'>The thread
system implemented in the previous stage was extended to create a hierarchy of single-threaded
processes by the development of process management utilities like process
creation and termination.</p>

<p class=MsoNormal style='margin-left:38.25pt;text-align:justify;line-height:
150%'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'>System calls for
process management, memory management and file management were developed using
interrupts.<span style='mso-spacerun:yes'> </span>Threads in pintos could
trespass into each others address space.<span style='mso-spacerun:yes'>
</span>All such attempts will now immediately cause a segmentation fault and
terminate the offending process.</p>

<p class=MsoNormal style='margin-left:38.25pt;line-height:150%'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:-.5in;line-height:150%;
mso-list:l2 level1 lfo22;mso-hyphenate:none;tab-stops:27.0pt'><![if !supportLists]><span
style='mso-list:Ignore'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]><u>Virtual Memory implementation<o:p></o:p></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'>A paging scheme
was devised to load segments from executables lazily, that is, only as the
kernel intercepts page faults for them.<span style='mso-spacerun:yes'> </span>The
paging scheme allows for sharing read-only pages among processes executing the
same executable.<span style='mso-spacerun:yes'> </span>A global page replacement
algorithm was implemented as efficient as the 'clock' algorithm.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'>Memory mapped
files were implemented by developing the <i style='mso-bidi-font-style:normal'>mmap</i>
and <i style='mso-bidi-font-style:normal'>munmap</i> system calls to speed up
file operations.<span style='mso-spacerun:yes'> </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'>Stack which was
originally fixed in size was made to grow past its current size by the allocation
of additional pages till the system defined limit.</p>

<p class=MsoNormal style='margin-left:37.5pt;line-height:150%'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:-.5in;line-height:150%;
mso-list:l3 level1 lfo23;mso-hyphenate:none;tab-stops:27.0pt'><![if !supportLists]><span
style='mso-list:Ignore'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]><u>File Systems<o:p></o:p></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'>A hierarchical
namespace was implemented to extend pintos' concept of single directory to
subdirectories in burritos.</p>

<p class=MsoNormal style='line-height:150%'><b style='mso-bidi-font-weight:
normal'><span style='font-size:14.0pt;line-height:150%'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b><span
style='font-size:14.0pt;line-height:150%;mso-fareast-language:AR-SA'>1.3<span
style='mso-spacerun:yes'> </span><span style='mso-tab-count:1'> </span>Trivia<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'>Burrito is a
common Mexican dish and Pinto beans are important ingredients of its recipe.<span
style='mso-spacerun:yes'> </span>The operating system pintos originated as a
replacement for the nachos instructional operating system, developed at the
University of California, Berkeley.<span style='mso-spacerun:yes'>
</span>Nachos, too is the name of a common Mexican food.</p>

<b style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;
line-height:150%;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman";mso-ansi-language:EN-US;mso-fareast-language:EN-US;
mso-bidi-language:AR-SA'><br clear=all style='page-break-before:always'>
</span></b>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='font-size:16.0pt;line-height:
150%'>2.<span style='mso-tab-count:1'> </span>System Architecture</span></b></p>

<p class=MsoNormal style='line-height:150%'><b style='mso-bidi-font-weight:
normal'><span style='font-size:14.0pt;line-height:150%'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='line-height:150%'><span style='font-size:16.0pt;
line-height:150%'><o:p>&nbsp;</o:p></span></p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:12.15pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=574 colspan=5 style='width:430.65pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'>Applications</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=338 colspan=3 style='width:253.5pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  tab-stops:133.45pt'>System Calls</p>
  </td>
  <td width=236 colspan=2 style='width:177.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'>Interrupts
  and exception</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=102 style='width:76.4pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'>File
  Management</p>
  </td>
  <td width=236 colspan=2 style='width:177.1pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'>Memory
  Mapped Files</p>
  </td>
  <td width=118 style='width:88.55pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'>Page
  Faults</p>
  </td>
  <td width=118 style='width:88.6pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'>Process
  Management</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=220 colspan=2 style='width:164.95pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'>File
  System</p>
  </td>
  <td width=236 colspan=2 style='width:177.1pt;border:none;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-right-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'>Virtual
  Memory</p>
  </td>
  <td width=118 style='width:88.6pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'>Process
  Scheduling</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=338 colspan=3 style='width:253.5pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'>Device
  Drivers</p>
  </td>
  <td width=118 style='width:88.55pt;border:none;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-right-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'>Memory
  Management</p>
  </td>
  <td width=118 style='width:88.6pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'>Task</p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-spacerun:yes'></span>Switching</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5;mso-yfti-lastrow:yes'>
  <td width=574 colspan=5 style='width:430.65pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'>Hardware</p>
  </td>
 </tr>
 <![if !supportMisalignedColumns]>
 <tr height=0>
  <td width=102 style='border:none'></td>
  <td width=118 style='border:none'></td>
  <td width=118 style='border:none'></td>
  <td width=118 style='border:none'></td>
  <td width=118 style='border:none'></td>
 </tr>
 <![endif]>
</table>

</div>

<p class=MsoNormal style='line-height:150%;tab-stops:106.5pt'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>Figure
2.1<o:p></o:p></span></b></p>

<p class=MsoNormal style='line-height:150%;tab-stops:106.5pt'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;tab-stops:106.5pt'>User
applications, in course of their execution, may need to access many system
resources like files on a disk, system memory and other devices.<span
style='mso-spacerun:yes'> </span>To accomplish this, user applications in
burritos trap into the operating system through system calls.<span
style='mso-spacerun:yes'> </span>Burritos provides several system calls for
file management to create/remove, open/close, read/write from or to files that
are organized in a hierarchical file system.<span style='mso-spacerun:yes'>
</span>The file system makes use of the underlying device drivers to access
data on the disk.<span style='mso-spacerun:yes'> </span>The burritos kernel
includes drivers for 8254 timer, VGA display, serial port, IDE disks and
keyboard. </p>

<p class=MsoNormal style='text-align:justify;line-height:150%;tab-stops:106.5pt'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;tab-stops:106.5pt'>System
memory is yet another very important resource used by the user
applications.<span style='mso-spacerun:yes'> </span>Users are allowed to
access memory larger than physical memory by the virtual memory subsystem of
burritos.<span style='mso-spacerun:yes'> </span>The VM subsystem includes lazy
loading of processes and swapping in and out of pages, employing global page
replacement algorithm.<span style='mso-spacerun:yes'> </span>It also interacts
with the memory management utilities that draw support from the MMU of
underlying architecture for memory addressing.<span style='mso-spacerun:yes'>
</span>These utilities are also responsible for all the memory allocations for
user applications.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;tab-stops:106.5pt'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;tab-stops:106.5pt'>File
operations in burritos can be speeded up by accessing the contents of the file
from the physical memory rather than secondary storage.<span
style='mso-spacerun:yes'> </span>Burritos provides system calls for mapping
and unmapping of files to and from the memory.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;tab-stops:106.5pt'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;tab-stops:106.5pt'>The
burritos kernel manages user processes when they transit from user mode to
kernel mode via interrupts.<span style='mso-spacerun:yes'> </span>These user
processes are dispatched to CPU one after the other based on the kernels
scheduling policies.<span style='mso-spacerun:yes'> </span>The scheduler is
similar to the 4.4 BSD scheduler. And the task switching unit of the kernel
does the actual switching between the current process and the next process to
run, selected by the scheduler.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;tab-stops:106.5pt'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;tab-stops:106.5pt'>Pintos
came along with an interface to the 80x86 architecture that included device
driver support, memory management utilities and task switching.<span
style='mso-spacerun:yes'> </span>It was extended to burritos by developing all
the layers above it.</p>

<p class=MsoNormal style='line-height:150%'><b style='mso-bidi-font-weight:
normal'><span style='font-size:16.0pt;line-height:150%'><o:p>&nbsp;</o:p></span></b></p>

<b style='mso-bidi-font-weight:normal'><span style='font-size:16.0pt;
line-height:150%;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman";mso-ansi-language:EN-US;mso-fareast-language:EN-US;
mso-bidi-language:AR-SA'><br clear=all style='page-break-before:always'>
</span></b>

<p class=MsoNormal style='line-height:150%'><b style='mso-bidi-font-weight:
normal'><span style='font-size:16.0pt;line-height:150%'>3.<span
style='mso-tab-count:1'> </span>Design of the alarm clock and thread
system</span></b><span style='font-size:16.0pt;line-height:150%;mso-fareast-language:
AR-SA'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span style='font-size:14.0pt;
line-height:150%;mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='line-height:150%'><span style='font-size:14.0pt;
line-height:150%;mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b><span
style='font-size:14.0pt;line-height:150%;mso-fareast-language:AR-SA'>3.1<span
style='mso-spacerun:yes'> </span><span style='mso-tab-count:1'> </span>Design
of the synchronization primitives<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>If sharing of resources between threads is
not handled in a careful, controlled fashion, the result is usually a big
mess.<span style='mso-spacerun:yes'> </span>This is especially the case in
operating system kernels, where faulty sharing can crash the entire
machine.<span style='mso-spacerun:yes'> </span>We design several
synchronization primitives like semaphores, locks and condition variables to
help out.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>A counting semaphore has been implemented
using a non-negative integer variable accompanied with a list of waiters
containing the Process Control Blocks (PCBs) of the threads waiting on that
semaphore.<span style='mso-spacerun:yes'> </span>The Down and Up (P and V)
operations on the semaphore variables are performed atomically by disabling
interrupts.<span style='mso-spacerun:yes'> </span>A broadcast operation has
also been implemented to unblock all the threads waiting on the semaphore.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>Next, a variant of the counting semaphore,
the binary semaphore has been used to construct locks, which further are used
to implement the monitor, a higher level synchronization primitive</span><b
style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;line-height:
150%'>.<o:p></o:p></span></b></p>

<p class=MsoNormal style='line-height:150%'><b style='mso-bidi-font-weight:
normal'><span style='font-size:14.0pt;line-height:150%'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b><span
style='font-size:14.0pt;line-height:150%;mso-fareast-language:AR-SA'>3.2<span
style='mso-tab-count:1'> </span>The alarm clock<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;line-height:
150%'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'>3.2.1<span style='mso-tab-count:1'> </span>Prelude<o:p></o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>Modern operating systems require threads to
suspend their execution for a period of time, for a number of
applications.<span style='mso-spacerun:yes'> </span>The threads in pintos do
busy waiting to achieve this.<span style='mso-spacerun:yes'> </span>Busy
waiting not only wastes CPU cycles, but also may run the busy waiting threads
into deadlocks in case of priority inversion.<span style='mso-spacerun:yes'>
</span>Burritos re-implements this by using sleep and wakeup operations, using
the counting semaphore implemented in the previous stage.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><u><span
style='mso-fareast-language:AR-SA'><o:p><span style='text-decoration:none'>&nbsp;</span></o:p></span></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>3.2.2<span
style='mso-tab-count:1'> </span>Data Structures<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:131.25pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;height:25.8pt'>
  <td width=264 valign=top style='width:198.15pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt;height:25.8pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><b
  style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>sleep_elem<o:p></o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes;height:47.55pt'>
  <td width=264 valign=top style='width:198.15pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt;height:47.55pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>wakeup_time: clock_t<o:p></o:p></span></p>
  <table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
   style='margin-left:4.45pt;border-collapse:collapse;border:none;mso-border-alt:
   solid windowtext .5pt;mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;
   mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
   <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;height:20.0pt'>
    <td width=239 valign=top style='width:179.05pt;border:solid windowtext 1.0pt;
    mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt;
    height:20.0pt'>
    <p class=MsoNormal align=center style='text-align:center;line-height:150%'><b
    style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>sleep_sema<o:p></o:p></span></b></p>
    </td>
   </tr>
   <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes;height:20.0pt'>
    <td width=239 valign=top style='width:179.05pt;border:solid windowtext 1.0pt;
    border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:
    solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt;height:20.0pt'>
    <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
    style='mso-fareast-language:AR-SA'>value: int<o:p></o:p></span></p>
    <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
    style='mso-fareast-language:AR-SA'>waiter_threads: struct list<o:p></o:p></span></p>
    </td>
   </tr>
  </table>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'><span style='mso-spacerun:yes'></span>elem:
  struct list_elem<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>Figure
3.1<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>A list of sleep elements (sleep list) ordered
by wakeup time is maintained. Each sleep element (Figure 3.1) is implemented
using a semaphore on which all threads to be woken up at the same time will
sleep.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>3.2.3<span
style='mso-tab-count:1'> </span>Algorithm<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><u><span
style='mso-fareast-language:AR-SA'>Sleep Operation<o:p></o:p></span></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>First, the wakeup time is calculated using
the current time and number of seconds to sleep. <span
style='mso-spacerun:yes'></span>A sleep element is then created based on the wakeup
time calculated and its semaphore is initialized to zero, so that any thread
performing a down operation on it will block.<span style='mso-spacerun:yes'>
</span>It is then inserted at the appropriate position in the sleep list, if
another sleep element with the same wakeup time is not present.<span
style='mso-spacerun:yes'> </span>Next, a down operation is performed on the
semaphore of this sleep element so that the thread is blocked on that semaphore.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><u><span
style='mso-fareast-language:AR-SA'>Wakeup Operation</span></u><span
style='mso-fareast-language:AR-SA'><o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>When a timer interrupt occurs, the head node
of the sleep list is examined to check if the threads blocked on its semaphore
have to be woken up, by comparing its wakeup time with the current time.<span
style='mso-spacerun:yes'> </span>On successful comparison, a broadcast
operation is performed on the semaphore, so that all the threads blocked on
that semaphore are unblocked.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>3.2.4<span
style='mso-tab-count:1'> </span>Synchronization<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>Race conditions can occur when:-<o:p></o:p></span></p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l22 level1 lfo1;
     tab-stops:list .5in'><span style='mso-fareast-font-family:Calibri;
     mso-fareast-language:AR-SA'>Multiple threads try to sleep simultaneously.<o:p></o:p></span></li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l22 level1 lfo1;
     tab-stops:list .5in'><span style='mso-fareast-font-family:Calibri;
     mso-fareast-language:AR-SA'>A timer interrupt occurs during a sleep
     operation.<o:p></o:p></span></li>
</ol>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>Interrupts are disabled during the sleep
operation so that the race conditions listed above can be avoided.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>3.2.5<span
style='mso-tab-count:1'> </span>Rationale<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>Earlier, the design involved inserting the
sleep element at the end of the sleep list during the sleep operation; and the wakeup
operation involved traversing the sleep list until a sleep element is found
whose wakeup time matches with the current time.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>The time complexity of the sleep operation
should be as minimum as possible, since the operation is done disabling
interrupts.<span style='mso-spacerun:yes'> </span>The present design has an
overhead of maintaining an ordered sleep list, thereby increasing the
complexity of the sleep operation.<span style='mso-spacerun:yes'> </span>The
earlier design did not have this overhead.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>Interrupt handlers run asynchronously and
thus interrupt other potentially important code, including other interrupt
handlers.<span style='mso-spacerun:yes'> </span>Therefore, to avoid stalling
interrupted code for too long, interrupt handlers need to run as quickly as
possible.<span style='mso-spacerun:yes'> </span><o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>The major drawback of the earlier design was
that it spent more time traversing the sleep list in the timer interrupt
handler, during its wakeup operation.<span style='mso-spacerun:yes'>
</span>The present design makes a compromise by maintaining an ordered sleep
list, so that examining the head node will suffice in the wakeup operation,
thereby reducing the time spent in the interrupt handler.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b><span
style='font-size:14.0pt;line-height:150%;mso-fareast-language:AR-SA'>3.3<span
style='mso-tab-count:1'> </span>The priority scheduler<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='font-size:14.0pt;line-height:150%;mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'>3.3.1<span style='mso-tab-count:1'> </span>Prelude<o:p></o:p></b></p>

<p class=MsoNormal style='text-align:justify;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>The priority scheduler of burritos is based on
following policies:-</p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l18 level1 lfo2;
     tab-stops:list .5in;mso-layout-grid-align:none;text-autospace:none'>When a
     thread that has a higher priority than that of the currently running
     thread, is added to the ready list, the current thread should immediately yield
     the processor to the new thread. </li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l18 level1 lfo2;
     tab-stops:list .5in;mso-layout-grid-align:none;text-autospace:none'>When
     threads are waiting for a lock, semaphore, or condition variable, the thread
     with the highest priority should be awakened first. </li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l18 level1 lfo2;
     tab-stops:list .5in;mso-layout-grid-align:none;text-autospace:none'>A
     thread may raise or lower its own priority at any time, but lowering its
     priority such that it no longer has the highest priority will cause it to
     immediately yield the CPU.</li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l18 level1 lfo2;
     tab-stops:list .5in;mso-layout-grid-align:none;text-autospace:none'>If
     multiple threads have the same priority, they are scheduled in a round
     robin fashion.</li>
</ol>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>One issue with priority scheduling is priority inversion.
<span style='mso-spacerun:yes'></span>The following scenario illustrates
priority inversion:- </p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>H, M, and L are three threads with high, medium and
low priorities respectively.<span style='mso-spacerun:yes'> </span>If H needs
to wait for L (for instance, for a lock held by L), and M is on the ready list,
then H will never get the CPU because the low priority thread will not get any
CPU time.<span style='mso-spacerun:yes'> </span>A partial fix for this problem
is for H to donate its priority to L while L is holding the lock, and then to
recall the donation once L releases (and thus H acquires) the lock.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>We handle multiple donations, in which multiple priorities
are donated to a single thread. Nested donation is also handled, wherein H is waiting
on a lock that M holds and M is waiting on a lock that L holds, then both M and
L should be boosted to Hs priority.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>3.3.2<span
style='mso-tab-count:1'> </span>Data Structures<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l19 level1 lfo3;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>A list of
     all threads ready for execution (ready list) ordered by thread priority.<o:p></o:p></span></li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l19 level1 lfo3;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>A list of
     lock elements (lock list.)<span style='mso-spacerun:yes'> </span>Figure
     3.2 shows the structure of the each lock element.<o:p></o:p></span></li>
</ol>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:131.25pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;height:25.8pt'>
  <td width=264 valign=top style='width:198.15pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt;height:25.8pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><b
  style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>lock_elem<o:p></o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes;height:47.55pt'>
  <td width=264 valign=top style='width:198.15pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt;height:47.55pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>
  <table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
   style='margin-left:4.45pt;border-collapse:collapse;border:none;mso-border-alt:
   solid windowtext .5pt;mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;
   mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
   <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;height:20.0pt'>
    <td width=239 valign=top style='width:179.05pt;border:solid windowtext 1.0pt;
    mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt;
    height:20.0pt'>
    <p class=MsoNormal align=center style='text-align:center;line-height:150%'><b
    style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>lock<o:p></o:p></span></b></p>
    </td>
   </tr>
   <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes;height:20.0pt'>
    <td width=239 valign=top style='width:179.05pt;border:solid windowtext 1.0pt;
    border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:
    solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt;height:20.0pt'>
    <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
    style='mso-fareast-language:AR-SA'>id: int<o:p></o:p></span></p>
    <p class=MsoNormal align=center style='text-align:center;line-height:150%'><i
    style='mso-bidi-font-style:normal'><span style='mso-fareast-language:AR-SA'>holder</span></i><span
    style='mso-fareast-language:AR-SA'>: struct thread<o:p></o:p></span></p>
    <table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
     style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
     mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh:
     .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
     <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
      <td width=223 valign=top style='width:167.5pt;border:solid windowtext 1.0pt;
      mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
      <p class=MsoNormal align=center style='text-align:center;line-height:
      150%'><b style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:
      AR-SA'>semaphore<o:p></o:p></span></b></p>
      </td>
     </tr>
     <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
      <td width=223 valign=top style='width:167.5pt;border:solid windowtext 1.0pt;
      border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:
      solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
      <p class=MsoNormal align=center style='text-align:center;line-height:
      150%'><span style='mso-fareast-language:AR-SA'>value: int<o:p></o:p></span></p>
      <p class=MsoNormal align=center style='text-align:center;line-height:
      150%'><i style='mso-bidi-font-style:normal'><span style='mso-fareast-language:
      AR-SA'>waiter_threads</span></i><span style='mso-fareast-language:AR-SA'>:
      struct list<o:p></o:p></span></p>
      </td>
     </tr>
    </table>
    <p class=MsoNormal style='line-height:150%'><span style='mso-fareast-language:
    AR-SA'><span style='mso-spacerun:yes'></span><o:p></o:p></span></p>
    </td>
   </tr>
  </table>
  <p class=MsoNormal style='text-align:justify;line-height:150%'><span
  style='mso-fareast-language:AR-SA'><span
  style='mso-spacerun:yes'> </span>elem: struct list_elem <span
  style='mso-spacerun:yes'></span><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>Figure
3.2<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>3.3.3<span
style='mso-tab-count:1'> </span>Algorithm<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>The priority scheduler first invokes the
priority donation algorithm in case of priority inversion. <span
style='mso-spacerun:yes'></span>Then, it schedules the thread with the maximum
priority from the ready list.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><u><span
style='mso-fareast-language:AR-SA'>Test for Priority Inversion<o:p></o:p></span></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>The test involves checking whether a lock
holder has lesser priority than any of its respective waiters, for each lock
element in the lock list.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><u><span
style='mso-fareast-language:AR-SA'><o:p><span style='text-decoration:none'>&nbsp;</span></o:p></span></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><u><span
style='mso-fareast-language:AR-SA'>Priority Donation<o:p></o:p></span></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>First, the lock list is sorted in decreasing
order of holder priorities.<span style='mso-spacerun:yes'> </span>Next, the
waiter with the maximum priority is calculated for each lock element.<span
style='mso-spacerun:yes'> </span>If the priority of such a waiter is greater
than that of the holder, the waiter donates its priority to the holder.<span
style='mso-spacerun:yes'> </span><a name="OLE_LINK2"></a><a name="OLE_LINK1"><span
style='mso-bookmark:OLE_LINK2'>Before donation, the priority of the holder is
saved, so that it can later be restored, when it releases the lock.<o:p></o:p></span></a></span></p>

<span style='mso-bookmark:OLE_LINK2'></span><span style='mso-bookmark:OLE_LINK1'></span>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>The lock list is sorted to handle a
situation (nested donation) like the following:- <o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'>A, B, and C are
three threads with priorities 1, 2 and 3 respectively.<span
style='mso-spacerun:yes'> </span>Thread C waits for thread B and in turn, thread
B waits for thread A.<span style='mso-spacerun:yes'> </span>There are 2
possible orders of donating priorities:-<span style='mso-fareast-language:AR-SA'><o:p></o:p></span></p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l16 level1 lfo4;
     tab-stops:list .5in'>B donates to A and then, C donates to B.</li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l16 level1 lfo4;
     tab-stops:list .5in'>C donates to B and then, B donates to A.</li>
</ol>

<p class=MsoNormal style='text-align:justify;line-height:150%'>In the first
case, A gets a priority of 2 and B gets a priority of 3; and priority inversion
still persists.<span style='mso-spacerun:yes'> </span>In the second case, both
A and B gets a priority of 3 and thus priority inversion is eliminated.<span
style='mso-spacerun:yes'> </span>Thus, the lock list is sorted in decreasing
order of holder priorities.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>3.3.4<span
style='mso-tab-count:1'> </span>Synchronization<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>There can be a potential race between lowering
the priority of a lock holder and priority donation from one of its waiters.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>The priority of the holder is saved before
donation, so that it can be restored later after it releases the lock.<span
style='mso-spacerun:yes'> </span>If such a holder tries to lower its priority after
donation, a change is made only to the saved priority, leaving the current
priority unaltered.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>3.3.5<span
style='mso-tab-count:1'> </span>Rationale<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>Initially, the design included priority
donation within the lock acquire operation.<span style='mso-spacerun:yes'>
</span>The algorithm worked as follows:-<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>If an attempt is made to acquire a lock held
by a lower priority thread, then the thread trying to acquire the lock will
donate its priority to the holder and finally wait for the lock.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>The earlier design did not involve the
overhead of maintaining a list of locks and running the priority donation
algorithm.<span style='mso-spacerun:yes'> </span>But, it did not handle the
case of nested donation.<span style='mso-spacerun:yes'> </span>The present
design finds a middle ground by implementing nested donation and thereby completely
eliminating priority inversion, though it involves the complexity of
maintaining the lock list.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b><span
style='font-size:14.0pt;line-height:150%;mso-fareast-language:AR-SA'>3.4<span
style='mso-tab-count:1'> </span>The advanced scheduler<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;line-height:
150%'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'>3.4.1<span style='mso-tab-count:1'> </span>Prelude<o:p></o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>The goal of a general-purpose scheduler is to balance
threads different scheduling needs.<span style='mso-spacerun:yes'> </span>Threads
that perform a lot of I/O require a fast response time to keep input and output
devices busy, but need little CPU time. <span style='mso-spacerun:yes'></span>On
the other hand, compute-bound threads need to receive a lot of CPU time to
finish their work, but have no requirement for fast response time. <span
style='mso-spacerun:yes'></span>Other threads lie somewhere in between, with
periods of I/O punctuated by periods of computation, and thus have requirements
that vary over time. <span style='mso-spacerun:yes'></span>A well-designed
scheduler can often accommodate threads with all these requirements
simultaneously.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>We implement an advanced scheduler that resembles the
4.4 BSD scheduler, which is one example of a multilevel feedback queue scheduler.<span
style='mso-spacerun:yes'> </span>This type of scheduler maintains several
queues of ready-to-run threads, where each queue holds threads with a different
priority.<span style='mso-spacerun:yes'> </span>At any given time, the
scheduler chooses a thread from the highest-priority non-empty queue. <span
style='mso-spacerun:yes'></span>If the highest-priority queue contains multiple
threads, then they are scheduled in round robin order.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='color:black'>Burritos allows users to
choose a scheduling policy at startup time.<span style='mso-spacerun:yes'>
</span>By default, the priority scheduler is active, but the 4.4BSD scheduler can
be chosen with the -mlfqs kernel option.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
text-autospace:none'>The 4.4BSD scheduler does not include priority donation.</p>

<p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'>3.4.2<span style='mso-tab-count:1'> </span>Algorithm<o:p></o:p></b></p>

<p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
text-autospace:none'><u><span style='mso-fareast-language:AR-SA'>Niceness of a
thread</span></u><span style='mso-fareast-language:AR-SA'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>Each thread has an integer nice value that determines
how nice the thread should be to the other threads. <span
style='mso-spacerun:yes'></span>A nice of zero does not affect thread
priority. <span style='mso-spacerun:yes'></span>A positive nice decreases the
priority of a thread and causes it to give up some CPU time it would otherwise
receive. <span style='mso-spacerun:yes'></span>On the other hand, a negative
nice tends to take away CPU time from other threads.<span
style='mso-spacerun:yes'> </span>The initial value of nice is zero in the
first thread created, or the parents value in other new threads.<span
style='mso-spacerun:yes'> </span>Nice value and hence the priority of a thread
can be updated by a set of thread management functions during the course of its
execution.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><u><span style='mso-fareast-language:AR-SA'>Calculation
of priority<o:p></o:p></span></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>The advanced scheduler has 64 priorities and thus 64
ready queues, numbered 0 (PRI_MIN) through 63 (PRI_MAX.)<span
style='mso-spacerun:yes'> </span>The priority of a thread is first calculated
at thread initialization.<span style='mso-spacerun:yes'> </span>It is recalculated
once every fourth clock tick, for every thread.<span style='mso-spacerun:yes'>
</span>In either case, it is determined by the formula:-</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%;
mso-layout-grid-align:none;text-autospace:none'><b style='mso-bidi-font-weight:
normal'>priority = PRI_MAX - (recent_cpu / 4) - (nice * 2)</b>, </p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%;
mso-layout-grid-align:none;text-autospace:none'><b style='mso-bidi-font-weight:
normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>where recent_cpu is an estimate of the CPU time the
thread has used recently and nice is the threads nice value.<span
style='mso-spacerun:yes'> </span>The calculated priority is always adjusted to
lie in the valid range PRI_MIN to PRI_MAX.<span style='mso-spacerun:yes'>
</span>This formula ensures that a thread that has received CPU time recently
is given a lower priority.<span style='mso-spacerun:yes'> </span>This is a key
to preventing starvation: a thread that has not received any CPU time recently
will have a recent_cpu of 0, which barring a high nice value should ensure that
it receives CPU time soon.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><u><span style='mso-fareast-language:AR-SA'>Calculation
of the recent CPU time<o:p></o:p></span></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>The initial thread starts with a recent cpu time of
zero. <span style='mso-spacerun:yes'></span>Other threads start with a recent cpu
value inherited from their parent thread.<span style='mso-spacerun:yes'>
</span>On each timer interrupt, the recent cpu time is incremented by 1 for the
running thread, unless the idle thread is running.<span
style='mso-spacerun:yes'> </span>In addition, every second, the recent cpu time
is recalculated for every thread (whether running, ready, or blocked), as
follows:- </p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%;
mso-layout-grid-align:none;text-autospace:none'><b style='mso-bidi-font-weight:
normal'>recent_cpu = (2*load_avg) / (2*load_avg + 1) * recent_cpu + nice,<o:p></o:p></b></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%;
mso-layout-grid-align:none;text-autospace:none'><b style='mso-bidi-font-weight:
normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>where load_avg is a moving average of the number of threads
ready to run.<span style='mso-spacerun:yes'> </span>If load_avg is 1,
indicating that a single thread, on average, is competing for the CPU, then the
current value of recent_cpu decays to a weight of .1 in log<sub>2/3</sub>.1 &#8776;
6 seconds; if load_avg is 2, then decay to a weight of .1 takes log<sub>3/4</sub>.1
&#8776; 8 seconds.<span style='mso-spacerun:yes'> </span>The effect is that recent_cpu
estimates the amount of CPU time the thread has received recently, with the
rate of decay inversely proportional to the number of threads competing for the
CPU.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><u><span style='mso-fareast-language:AR-SA'>Calculation
of the system load average<o:p></o:p></span></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>The system load average estimates the average number
of threads ready to run over the past minute.<span style='mso-spacerun:yes'>
</span>Unlike priority and recent cpu, the load average is system-wide, not
thread specific.<span style='mso-spacerun:yes'> </span>At system boot, it is
initialized to 0.<span style='mso-spacerun:yes'> </span>Every second
thereafter, it is updated</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>according to the following formula:-</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%;
mso-layout-grid-align:none;text-autospace:none'><b style='mso-bidi-font-weight:
normal'>load_avg = (59/60)*load_avg + (1/60)*ready_threads</b>,<b
style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%;
mso-layout-grid-align:none;text-autospace:none'><b style='mso-bidi-font-weight:
normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>where ready_threads is the number of threads that are
either running or ready to run at time of update (not including the idle thread.)</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'>3.4.3<span style='mso-tab-count:1'> </span>Rationale<o:p></o:p></b></p>

<p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>In the formulae above, priority, niceness, and number
of ready threads are integers, but recent cpu and load average are real
numbers.<span style='mso-spacerun:yes'> </span>Unfortunately, burritos does
not support floating-point arithmetic in the kernel, because it would
complicate and slow down the kernel. Real kernels often have the same
limitation, for the same reason.<span style='mso-spacerun:yes'> </span>Thus,
all calculations on real quantities are simulated using integers.<span
style='mso-spacerun:yes'> </span>In burritos, we use a 17.14 fixed point
number representation, i.e, the rightmost 14 bits of the integer represent the
fractional part of the real number, that integer represents.</p>

<span style='font-size:12.0pt;line-height:150%;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman";mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:AR-SA'><br clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b><span style='font-size:14.0pt;line-height:150%;
mso-fareast-language:AR-SA'>3.5<span style='mso-tab-count:1'> </span>Deadlock
Avoidance<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='font-size:14.0pt;line-height:150%;mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'>3.5.1<span style='mso-tab-count:1'> </span>Prelude<o:p></o:p></b></p>

<p class=MsoNormal style='text-align:justify;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='mso-fareast-language:AR-SA'>Modern computers
consist of a wide variety of resources that can be used by one process at a
time.<span style='mso-spacerun:yes'> </span>Consequently, operating systems
must have the ability to grant exclusive access to certain resources.<span
style='mso-spacerun:yes'> </span>Exclusive access to resources, in burritos,
is accomplished with the help of <i style='mso-bidi-font-style:normal'>locks</i>.<span
style='mso-spacerun:yes'> </span>That is, if a thread has to access any
resource, it must first acquire a lock (associated with that resource),
complete its job with that resource, and then release the lock, so that any
other thread waiting on the lock can now acquire it and start using the
resource.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='mso-fareast-language:AR-SA'>During its
course of execution, a thread needs exclusive access to not just one resource,
but several.<span style='mso-spacerun:yes'> </span>Thus, a thread currently holding
resources granted earlier can make a request for a new resource.<span
style='mso-spacerun:yes'> </span>The thread may have to wait for the new
resource, if it is currently held by any other thread.<span
style='mso-spacerun:yes'> </span>If there is a circular chain of such threads
which currently hold a resource (and hence the lock associated with it) and
wait for other resources (or locks), a situation arises where no thread can run
to completion, and such a situation is called a <i style='mso-bidi-font-style:
normal'>deadlock</i>.<span style='mso-spacerun:yes'> </span>Burritos avoids
such situations by allowing threads to acquire a lock only when it does not
result in a circular dependency.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'>3.5.2<span style='mso-tab-count:1'> </span>Data
Structures<o:p></o:p></b></p>

<p class=MsoNormal style='text-align:justify;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-fareast-language:AR-SA'>The following
lists are maintained:-<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l35 level1 lfo24;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>The lock
     list (described in section 3.3.)<o:p></o:p></span></li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l35 level1 lfo24;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>A list of
     all living threads (ready, running or blocked.)<o:p></o:p></span></li>
</ol>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>These lists are used to construct a
temporary data structure, the wait-for-graph (WFG.)<span
style='mso-spacerun:yes'> </span><o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>The WFG has the following properties:-<o:p></o:p></span></p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l7 level1 lfo25;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>Each vertex
     in the graph represents a thread in the system (ready, running or blocked.)<o:p></o:p></span></li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l7 level1 lfo25;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>There is an
     edge from vertex v<sub>i</sub> to vertex v<sub>j</sub> if the thread
     represented by v<sub>i</sub> is waiting for the thread represented by v<sub>j</sub>.<o:p></o:p></span></li>
</ol>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'>3.5.3<span style='mso-tab-count:1'> </span>Algorithm<o:p></o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>When a thread W makes a request for a lock held
by a thread H, the following operations are performed before blocking W on that
lock:-<o:p></o:p></span></p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l20 level1 lfo26;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>A WFG is
     constructed with the help of the global lock list and thread list.<o:p></o:p></span></li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l20 level1 lfo26;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>An edge from
     the thread W to the thread H is added to the WFG.<o:p></o:p></span></li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l20 level1 lfo26;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>The WFG is
     then fed into a cycle detection algorithm (the source removal algorithm is
     employed here.)<o:p></o:p></span></li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l20 level1 lfo26;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>If a cycle
     is detected, the request for the lock is denied, since a circular
     dependency exists.<span style='mso-spacerun:yes'> </span>Otherwise, the
     thread W is blocked on that lock.<o:p></o:p></span></li>
</ol>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'>3.5.4<span style='mso-tab-count:1'> </span>Synchronization<o:p></o:p></b></p>

<p class=MsoNormal style='text-align:justify;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='mso-fareast-language:AR-SA'>A race
condition can occur when the lock list gets updated (as a result of lock
initialization, acquire or release) when a circular dependency check is being
made while processing a lock request.<span style='mso-spacerun:yes'>
</span>This is avoided by disabling interrupts during the circular dependency
check.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='mso-fareast-language:AR-SA'>If the
holder of a lock terminates itself after completing its execution (or is
abnormally terminated by the kernel) without releasing the lock it holds, then
all the waiters of the lock can never run to completion.<span
style='mso-spacerun:yes'> </span>Even worse, if one of these waiters holds
some other lock, then the waiters for that lock also cannot run to completion. Thus,
all locks held by a thread getting terminated, are released before it is completely
destroyed.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'>3.5.5<span style='mso-tab-count:1'> </span>Rationale<o:p></o:p></b></p>

<p class=MsoNormal style='text-align:justify;mso-layout-grid-align:none;
text-autospace:none'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='mso-fareast-language:AR-SA'>The lock
list, by itself, was sufficient for detecting a deadlock.<span
style='mso-spacerun:yes'> </span>But, the complexity of the cycle detection
algorithm would have been significant in such a design.<span
style='mso-spacerun:yes'> </span>The present design trades off space for time
by using a temporary data structure WFG, so that there can be a significant
reduction in the complexity of the cycle detection algorithm.<span
style='mso-spacerun:yes'> </span>Since the WFG is implemented using a 2-D
array (a common data structure used to represent a graph), standard algorithms
such as the source removal or the DFS algorithm can be used for cycle
detection.<o:p></o:p></span></p>

<span style='font-size:12.0pt;line-height:150%;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman";mso-ansi-language:EN-US;mso-fareast-language:
AR-SA;mso-bidi-language:AR-SA'><br clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'><span
style='font-size:16.0pt;line-height:150%;mso-fareast-language:AR-SA'>4.<span
style='mso-tab-count:1'> </span>User Processes and System Calls</span></b><span
style='font-size:11.0pt;line-height:150%;font-family:CMR10;mso-bidi-font-family:
CMR10'><o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;line-height:
150%;mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;line-height:
150%;mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;line-height:
150%;mso-fareast-language:AR-SA'>4.1<span style='mso-tab-count:1'> </span>Design
of the Process Management Utilities<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;line-height:
150%;mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>4.1.1<span
style='mso-spacerun:yes'> </span>Prelude<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>All of the code that ran under pintos had
been a part of the operating system kernel and thereby had full access to
privileged parts of the system.<span style='mso-spacerun:yes'> </span>But once
user programs are allowed to run on the top of the operating system, this is no
longer true.<span style='mso-spacerun:yes'> </span>Burritos extends the thread
system developed in the previous stage to allow users to load programs from the
disk and run a number of such programs at a time.<span
style='mso-spacerun:yes'> </span><o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>The thread management functions of pintos are
developed into sophisticated process management utilities, which include
process creation and termination.<span style='mso-spacerun:yes'> </span>Processes
in burritos are single threaded.<span style='mso-spacerun:yes'> </span>The
first process, init, has the process ID 1, and is created by burritos during
boot time.<span style='mso-spacerun:yes'> </span>All other processes of the
system are descendants of the init process.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>4.1.2<span
style='mso-tab-count:1'> </span>Data Structures<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>The Process Control Block (PCB) of a process
is one of the most important data structures used for process management in an
operating system.<span style='mso-spacerun:yes'> </span>Figure 4.1 shows the
structure of the PCB of a process in burritos.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>4.1.3<span
style='mso-tab-count:1'> </span>Algorithm<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><u><span
style='mso-fareast-language:AR-SA'>Process Creation<o:p></o:p></span></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>Process creation in burritos involves the
following steps:-<u><o:p></o:p></u></span></p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l17 level1 lfo5;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>Create a new
     thread.<o:p></o:p></span></li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l17 level1 lfo5;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>Insert the
     newly created thread into the parents list of children.<o:p></o:p></span></li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l17 level1 lfo5;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>Initialize
     the zombie semaphore of the thread to 0.<o:p></o:p></span></li>
</ol>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:131.25pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;height:14.35pt'>
  <td width=264 valign=top style='width:198.15pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt;height:14.35pt'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;line-height:
  150%;font-family:"Times New Roman","serif";mso-fareast-font-family:"Times New Roman";
  mso-ansi-language:EN-US;mso-fareast-language:AR-SA;mso-bidi-language:AR-SA'><br
  clear=all style='page-break-before:always'>
  </span></b>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><b
  style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>thread<o:p></o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes;height:47.55pt'>
  <td width=264 valign=top style='width:198.15pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt;height:47.55pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>tid: tid_t<o:p></o:p></span></p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>status: enum thread_status<o:p></o:p></span></p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>name: char[16]<o:p></o:p></span></p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>stack: uint8_t*<o:p></o:p></span></p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>old_priority: int<o:p></o:p></span></p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>priority: int<o:p></o:p></span></p>
  <p class=MsoNormal style='text-align:justify;line-height:150%'><span
  style='mso-fareast-language:AR-SA'><span
  style='mso-spacerun:yes'> </span>elem: struct list_elem <o:p></o:p></span></p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>pagedir: uint32_t*<o:p></o:p></span></p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>user_stack_size: int<o:p></o:p></span></p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><i
  style='mso-bidi-font-style:normal'><span style='mso-fareast-language:AR-SA'>children</span></i><span
  style='mso-fareast-language:AR-SA'>: struct list<o:p></o:p></span></p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><i
  style='mso-bidi-font-style:normal'><span style='mso-fareast-language:AR-SA'>load</span></i><span
  style='mso-fareast-language:AR-SA'>: struct semaphore<o:p></o:p></span></p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><i
  style='mso-bidi-font-style:normal'><span style='mso-fareast-language:AR-SA'>wait</span></i><span
  style='mso-fareast-language:AR-SA'>: struct semaphore<o:p></o:p></span></p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><i
  style='mso-bidi-font-style:normal'><span style='mso-fareast-language:AR-SA'>zombie</span></i><span
  style='mso-fareast-language:AR-SA'>: struct semaphore<o:p></o:p></span></p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><i
  style='mso-bidi-font-style:normal'><span style='mso-fareast-language:AR-SA'>executable</span></i><span
  style='mso-fareast-language:AR-SA'>: struct file*<o:p></o:p></span></p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><i
  style='mso-bidi-font-style:normal'><span style='mso-fareast-language:AR-SA'>load_status</span></i><span
  style='mso-fareast-language:AR-SA'>: int<o:p></o:p></span></p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><i
  style='mso-bidi-font-style:normal'><span style='mso-fareast-language:AR-SA'>exit_status</span></i><span
  style='mso-fareast-language:AR-SA'>: int<o:p></o:p></span></p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><i
  style='mso-bidi-font-style:normal'><span style='mso-fareast-language:AR-SA'>fd_list</span></i><span
  style='mso-fareast-language:AR-SA'>: struct list<o:p></o:p></span></p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>nice: int64_t<o:p></o:p></span></p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>recent_cpu: int64_t<o:p></o:p></span></p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>magic: unsigned<o:p></o:p></span></p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>current_directory: struct dir*<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=center style='text-align:center;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>Figure
4.1<o:p></o:p></span></b></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<ol style='margin-top:0in' start=4 type=1>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l17 level1 lfo5;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>Allocate and
     activate the threads page tables.<o:p></o:p></span></li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l17 level1 lfo5;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>Set the
     threads kernel stack for use in processing interrupts.<o:p></o:p></span></li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l17 level1 lfo5;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>Receive the
     string containing the name of the ELF (Executable and Linking Format)
     executable and the arguments passed to the newly created process by the
     parent process.<o:p></o:p></span></li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l17 level1 lfo5;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>Parse the string
     for arguments and push them into the stack of the process.<o:p></o:p></span></li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l17 level1 lfo5;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>Load the ELF
     executable into the processs address space.<o:p></o:p></span></li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l17 level1 lfo5;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>Deny write
     permission to the executable.<o:p></o:p></span></li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l17 level1 lfo5;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>Return the
     load status to the parent process.<o:p></o:p></span></li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l17 level1 lfo5;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>Start the
     user process by simulating a return from an interrupt.<o:p></o:p></span></li>
</ol>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><u><span
style='mso-fareast-language:AR-SA'>The Process Wait Operation<span
style='mso-spacerun:yes'> </span><o:p></o:p></span></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>The parent process may wait for one of its children
to die through the .process wait operation.<span style='mso-spacerun:yes'>
</span>In particular, when a parent waits for a child, it suspends its
execution until the child completes its execution and its exit status is
retrieved by the parent.<span style='mso-spacerun:yes'> </span>The parent
suspends its execution by sleeping on the wait semaphore which is a part of
the childs PCB.<span style='mso-spacerun:yes'> </span>The child thread after
completing its execution awakens the parent and blocks on its zombie semaphore.<span
style='mso-spacerun:yes'> </span>The parent process then retrieves the exit
status of the child and unblocks the child, which finally destroys itself
completely.<span style='mso-spacerun:yes'> </span>The child is then removed
from the parents list of children.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><u><o:p><span style='text-decoration:none'>&nbsp;</span></o:p></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><u>Process Termination<o:p></o:p></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>Process termination in burritos involves the
following steps:-<u><o:p></o:p></u></span></p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l23 level1 lfo6;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>Close the
     executable being run by the process so that writes to the executable is
     re-enabled.<o:p></o:p></span></li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l23 level1 lfo6;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>Close all
     the open files.<o:p></o:p></span></li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l23 level1 lfo6;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>Release all the
     locks currently held by the process.<o:p></o:p></span></li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l23 level1 lfo6;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>Perform an
     up operation on the zombie semaphores of the processs children that are
     alive.<o:p></o:p></span></li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l23 level1 lfo6;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>Activate the
     base page directory (of the init process) and destroy the processs page
     directory.<o:p></o:p></span></li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l23 level1 lfo6;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>Signal the
     waiting parent.<o:p></o:p></span></li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l23 level1 lfo6;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>Perform a
     down operation on the processs zombie semaphore.<o:p></o:p></span></li>
</ol>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>4.1.4<span
style='mso-tab-count:1'> </span>Synchronization<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>The parent process should retrieve the load
status of the child to determine whether the executable was successfully
loaded.<span style='mso-spacerun:yes'> </span>So, it should not return before
the executable has completed loading.<span style='mso-spacerun:yes'>
</span>This is ensured by blocking the parent on the childs load semaphore,
and unblocking it only after the child completes loading.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>There can be a potential race between t</span><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'>he parent
waiting for the child and the child getting terminated.<span
style='mso-spacerun:yes'> </span><o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'>The wait
operation includes the following semaphore operations:-<o:p></o:p></span></p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l15 level1 lfo7;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>Down on
     wait semaphore.<o:p></o:p></span></li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l15 level1 lfo7;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>Up on
     zombie semaphore.<o:p></o:p></span></li>
</ol>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>The exit operation includes the following
semaphore operations:-<o:p></o:p></span></p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l11 level1 lfo8;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>Up on wait
     semaphore.<o:p></o:p></span></li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l11 level1 lfo8;
     tab-stops:list .5in'><span style='mso-fareast-language:AR-SA'>Down on
     zombie semaphore.<o:p></o:p></span></li>
</ol>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>Each down (or up) operation in wait has a
corresponding up (or down) operation in exit and vice versa.<span
style='mso-spacerun:yes'> </span>Thus, the order of execution of wait and exit
is not of any significance; thereby eliminating the race between them.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'>Another
potential race is between the parent getting terminated without waiting for the
child and the child getting terminated.<span style='mso-spacerun:yes'>
</span>If the parent gets terminated without waiting for its children, it
performs an up operation on the zombie semaphore of each of its children.<span
style='mso-spacerun:yes'> </span>The child performs a down operation on its
zombie semaphore irrespective of its parent waiting for it.<span
style='mso-spacerun:yes'> </span>Again, the down operation on zombie has a
corresponding up operation.<span style='mso-spacerun:yes'> </span>Thus, the
order of termination of parent and child is not of any significance; thereby,
eliminating the race between them.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>4.1.5<span
style='mso-tab-count:1'> </span>Rationale<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'>An alternative design can be, to include a
link to the parents PCB, in the childs PCB, rather than maintaining a list of
children in the parents PCB.<span style='mso-spacerun:yes'> </span>This
design requires a list of all threads in the system to be maintained, so that
whenever a process P tries to wait on a process C, the list can be used to
obtain the PCB of C.<span style='mso-spacerun:yes'> </span>The present design
reduces this overhead by requiring the parent to search for the child in its
own list of children, rather than searching for the child in the list of all
threads which is potentially much longer.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<span style='font-size:12.0pt;line-height:150%;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman";mso-ansi-language:EN-US;mso-fareast-language:
AR-SA;mso-bidi-language:AR-SA'><br clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;line-height:
150%;mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'>4.2<span
style='mso-tab-count:1'> </span>System Calls<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;line-height:
150%;mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:Calibri;
mso-fareast-language:AR-SA'>4.2.1<span style='mso-tab-count:1'> </span>Prelude<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:Calibri;
mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'>System calls
are programmers functional interface to the kernel.<span
style='mso-spacerun:yes'> </span>They are subroutines that reside inside the
burritos kernel, and support basic system functions such as halt, exit, exec,
wait, create, remove, open, close, filesize, read, write, seek and tell.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'>In burritos,
user programs invoke int $0x30 to make a system call.<span
style='mso-spacerun:yes'> </span>The system call number and any additional
arguments are expected to be pushed on the stack before invoking the
interrupt.<span style='mso-spacerun:yes'> </span>Thus, when the system call
handler gets control, the system call number is in the 32-bit word at the
callers stack pointer, the first argument is in the 32-bit word at the next
higher address and so on.<span style='mso-spacerun:yes'> </span><o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:Calibri;
mso-fareast-language:AR-SA'>4.2.2<span style='mso-tab-count:1'> </span>Data
Structures<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'><span
style='mso-spacerun:yes'></span></span><span style='mso-fareast-language:AR-SA'><o:p></o:p></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:131.25pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;height:25.8pt'>
  <td width=264 valign=top style='width:198.15pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt;height:25.8pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><b
  style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>file_desc<o:p></o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes;height:47.55pt'>
  <td width=264 valign=top style='width:198.15pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt;height:47.55pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>fd: int<o:p></o:p></span></p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>file: struct file*<o:p></o:p></span></p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>elem: struct list_elem<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>Figure
4.2<o:p></o:p></span></b></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'>A list of
file descriptors is maintained, per process.<span style='mso-spacerun:yes'>
</span>The structure of each file descriptor is shown in Figure 4.2.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:Calibri;
mso-fareast-language:AR-SA'>4.2.3<span style='mso-tab-count:1'> </span>Algorithm<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:Calibri;
mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'>The exec,
exit and wait system calls use the kernels process management utilities
developed earlier (Section 3.1.)<span style='mso-spacerun:yes'> </span>The create,
remove, open, close, filesize, read, write, seek and tell system calls use file
management utilities of pintos (Pintos came along with a flat filesystem.)<span
style='mso-spacerun:yes'> </span>The halt system call simply powers off the
operating system.<span style='mso-spacerun:yes'> </span>Additional system
calls are implemented in the stages that follow.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><u><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'>User Memory
Access<o:p></o:p></span></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'>As part of
the system call, the kernel must often access memory through pointers provided
by a user program.<span style='mso-spacerun:yes'> </span>The kernel must be
very careful about doing so, because the user can pass a null pointer, a
pointer to unmapped virtual memory, or a pointer to kernel virtual address
space (above virtual address PHYS_BASE.)<span style='mso-spacerun:yes'>
</span>All of these types of invalid pointers must be rejected without harm to
kernel or other running process, by terminating the offending process and
freeing its resources.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'>Our
algorithm checks that a user pointer points below PHYS_BASE and then
dereferences it.<span style='mso-spacerun:yes'> </span>An invalid user pointer
will cause a page fault.<span style='mso-spacerun:yes'> </span>The page fault
handler then returns an error code to the system call handler, if it finds that
the faulting address is invalid.<span style='mso-spacerun:yes'> </span>The
system call handler then terminates the process.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:Calibri;
mso-fareast-language:AR-SA'>4.2.4<span style='mso-tab-count:1'> </span>Rationale<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'>Invalid user
pointers can be rejected by the kernel through an alternate design, wherein the
validity of a user pointer is verified and then dereferenced.<span
style='mso-spacerun:yes'> </span>This design is much simpler than the present
design in which an invalid pointer causes a page fault.<span
style='mso-spacerun:yes'> </span>However the technique used in the present
design is normally faster because it takes advantage of the processors MMU. <o:p></o:p></span></p>

<span style='font-size:12.0pt;line-height:150%;font-family:"Times New Roman","serif";
mso-fareast-font-family:Calibri;mso-ansi-language:EN-US;mso-fareast-language:
AR-SA;mso-bidi-language:AR-SA'><br clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='font-size:16.0pt;line-height:
150%;mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'>5.<span
style='mso-tab-count:1'> </span>Virtual Memory<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;line-height:
150%;mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;line-height:
150%;mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;line-height:
150%;mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'>5.1<span
style='mso-tab-count:1'> </span>Memory terminology<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;line-height:
150%;mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:Calibri;
mso-fareast-language:AR-SA'>5.1.1<span style='mso-tab-count:1'> </span>Page<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:Calibri;
mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>A page, sometimes called a virtual page, is a
continuous region of virtual memory, 4,096 bytes (the page size) in length. <span
style='mso-spacerun:yes'></span>A 32-bit virtual address can be divided into a
20-bit page number and a 12-bit page offset, as shown below:-</p>

<p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
text-autospace:none'>31 <span style='mso-tab-count:5'> </span><span
style='mso-spacerun:yes'></span>12<span style='mso-tab-count:1'> </span>
11 <span style='mso-tab-count:5'> </span><span
style='mso-spacerun:yes'></span>0<span
style='mso-spacerun:yes'> </span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=295 valign=top style='width:221.4pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>Page Number</p>
  </td>
  <td width=295 valign=top style='width:221.4pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>Offset</p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=center style='text-align:center;line-height:150%;
mso-layout-grid-align:none;text-autospace:none'>Virtual Address<span
style='mso-spacerun:yes'> </span></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%;
mso-layout-grid-align:none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%;
mso-layout-grid-align:none;text-autospace:none'><b style='mso-bidi-font-weight:
normal'>Figure 5.1<o:p></o:p></b></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%;
mso-layout-grid-align:none;text-autospace:none'><b style='mso-bidi-font-weight:
normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:Calibri;
mso-fareast-language:AR-SA'>5.1.2<span style='mso-tab-count:1'> </span>Frame<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:Calibri;
mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>A frame is a continuous region of physical memory.
Like pages, frames must be page-size and page-aligned.<span
style='mso-spacerun:yes'> </span>Thus, a 32-bit physical address can be
divided into a 20-bit frame number and a 12-bit frame offset as shown below:-</p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'>31<span
style='mso-spacerun:yes'>
</span>12<span style='mso-spacerun:yes'> </span>11<b style='mso-bidi-font-weight:
normal'><span style='mso-spacerun:yes'> </span><span
style='mso-spacerun:yes'></span><span
style='mso-spacerun:yes'></span></b>0<o:p></o:p></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=295 valign=top style='width:221.4pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify;line-height:150%'><span
  style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'><span
  style='mso-spacerun:yes'> </span>Frame Number<span
  style='mso-spacerun:yes'> </span><o:p></o:p></span></p>
  </td>
  <td width=295 valign=top style='width:221.4pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='text-align:justify;line-height:150%'><span
  style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'><span
  style='mso-spacerun:yes'> </span>Offset<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'><span
style='mso-spacerun:yes'> </span><span
style='mso-spacerun:yes'></span>Physical
Address<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'><span
style='mso-spacerun:yes'> </span><span
style='mso-spacerun:yes'></span><b style='mso-bidi-font-weight:
normal'>Figure 5.2<o:p></o:p></b></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:Calibri;
mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<b style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;
line-height:150%;font-family:"Times New Roman","serif";mso-fareast-font-family:
Calibri;mso-ansi-language:EN-US;mso-fareast-language:AR-SA;mso-bidi-language:
AR-SA'><br clear=all style='page-break-before:always'>
</span></b>

<p class=MsoNormal style='margin-left:.5in;text-align:justify;text-indent:-.5in;
line-height:150%;mso-list:l29 level3 lfo18;tab-stops:list .5in'><![if !supportLists]><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'><span
style='mso-list:Ignore'>5.1.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'>Page Table<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>In Burritos, a page table is a data structure that
the CPU uses to translate a virtual address to a physical address, that is,
from a page to a frame.<span style='mso-spacerun:yes'> </span>The page table
format is dictated by the 80x86 architecture.<span style='mso-spacerun:yes'>
</span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>The diagram below illustrates the relationship
between pages and frames. <span style='mso-spacerun:yes'></span>The virtual address,
on the left, consists of a page number and an offset. <span
style='mso-spacerun:yes'></span>The page table translates the page number into
a frame number, which is combined with the unmodified offset to obtain the
physical address, on the right.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><!--[if gte vml 1]><v:rect
 id="_x0000_s1074" style='position:absolute;left:0;text-align:left;
 margin-left:135pt;margin-top:21pt;width:2in;height:27.4pt;z-index:2' filled="f"
 strokeweight="1pt">
 <v:textbox style='mso-next-textbox:#_x0000_s1074'>
  <![if !mso]>
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td><![endif]>
    <div>
    <p class=MsoNormal align=center style='text-align:center'>Page Table</p>
    </div>
    <![if !mso]></td>
   </tr>
  </table>
  <![endif]></v:textbox>
</v:rect><v:group id="_x0000_s1097" style='position:absolute;left:0;
 text-align:left;margin-left:18pt;margin-top:35.25pt;width:117pt;height:36pt;
 z-index:5' coordorigin="2700,3420" coordsize="1800,720">
 <v:line id="_x0000_s1095" style='position:absolute;flip:y' from="2700,3420"
  to="2700,4140"/>
 <v:line id="_x0000_s1096" style='position:absolute' from="2700,3420" to="4500,3420">
  <v:stroke endarrow="block"/>
 </v:line></v:group><v:group id="_x0000_s1108" style='position:absolute;left:0;
 text-align:left;margin-left:4in;margin-top:26.25pt;width:36pt;height:54pt;
 rotation:90;z-index:6' coordorigin="2700,3420" coordsize="1800,720">
 <v:line id="_x0000_s1109" style='position:absolute;flip:y' from="2700,3420"
  to="2700,4140"/>
 <v:line id="_x0000_s1110" style='position:absolute' from="2700,3420" to="4500,3420">
  <v:stroke endarrow="block"/>
 </v:line></v:group><![endif]--><![if !vml]><span style='mso-ignore:vglayout'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=23 height=27></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=427 height=72 src="Design%20Document_files/image001.gif"
  v:shapes="_x0000_s1074 _x0000_s1097 _x0000_s1095 _x0000_s1096 _x0000_s1108 _x0000_s1109 _x0000_s1110"></td>
 </tr>
</table>

</span><![endif]><b style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:
Calibri;mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:Calibri;
mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<br style='mso-ignore:vglayout' clear=ALL>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:Calibri;
mso-fareast-language:AR-SA'><span style='mso-spacerun:yes'> </span><o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><!--[if gte vml 1]><v:group
 id="_x0000_s1119" style='position:absolute;left:0;text-align:left;
 margin-left:90pt;margin-top:44.1pt;width:315pt;height:53.95pt;z-index:7'
 coordorigin="3600,4860" coordsize="6300,1079">
 <v:line id="_x0000_s1112" style='position:absolute;rotation:-270;flip:y'
  from="6750,2789" to="6750,9089" o:regroupid="3"/>
 <v:line id="_x0000_s1113" style='position:absolute;rotation:270' from="9360,5400"
  to="10439,5400" o:regroupid="3">
  <v:stroke endarrow="block"/>
 </v:line></v:group><![endif]--><![if !vml]><span style='mso-ignore:vglayout;
position:absolute;z-index:7;left:0px;margin-left:119px;margin-top:57px;
width:427px;height:75px'><img width=427 height=75
src="Design%20Document_files/image002.gif" v:shapes="_x0000_s1119 _x0000_s1112 _x0000_s1113"></span><![endif]><!--[if gte vml 1]><v:group
 id="_x0000_s1078" style='position:absolute;left:0;text-align:left;
 margin-left:-18pt;margin-top:8.1pt;width:2in;height:36pt;z-index:3'
 coordorigin="1980,5040" coordsize="2880,720">
 <v:rect id="_x0000_s1075" style='position:absolute;left:1980;top:5040;width:1440;
  height:720' filled="f" strokeweight="1pt">
  <v:textbox style='mso-next-textbox:#_x0000_s1075'>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal align=center style='text-align:center'><span
     style='font-size:11.0pt'>Page Number<o:p></o:p></span></p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:rect><v:rect id="_x0000_s1076" style='position:absolute;left:3420;top:5040;
  width:1440;height:720' filled="f" strokeweight="1pt">
  <v:textbox style='mso-next-textbox:#_x0000_s1076' inset=",10.8pt">
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal align=center style='text-align:center'><span
     style='font-size:11.0pt'>Offset<o:p></o:p></span></p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:rect></v:group><![endif]--><![if !vml]><span style='mso-ignore:vglayout;
position:absolute;z-index:3;left:0px;margin-left:-25px;margin-top:10px;
width:198px;height:54px'><img width=198 height=54
src="Design%20Document_files/image003.gif" v:shapes="_x0000_s1078 _x0000_s1075 _x0000_s1076"></span><![endif]><!--[if gte vml 1]><v:group
 id="_x0000_s1079" style='position:absolute;left:0;text-align:left;
 margin-left:297pt;margin-top:8.1pt;width:2in;height:36pt;z-index:4'
 coordorigin="1980,5040" coordsize="2880,720">
 <v:rect id="_x0000_s1080" style='position:absolute;left:1980;top:5040;width:1440;
  height:720' filled="f" strokeweight="1pt">
  <v:textbox style='mso-next-textbox:#_x0000_s1080'>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal align=center style='text-align:center'><span
     style='font-size:11.0pt'>Frame Number<o:p></o:p></span></p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:rect><v:rect id="_x0000_s1081" style='position:absolute;left:3420;top:5040;
  width:1440;height:720' filled="f" strokeweight="1pt">
  <v:textbox style='mso-next-textbox:#_x0000_s1081' inset=",10.8pt">
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal align=center style='text-align:center'><span
     style='font-size:11.0pt'>Offset<o:p></o:p></span></p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:rect></v:group><![endif]--><![if !vml]><span style='mso-ignore:vglayout;
position:absolute;z-index:4;left:0px;margin-left:395px;margin-top:10px;
width:198px;height:54px'><img width=198 height=54
src="Design%20Document_files/image004.gif" v:shapes="_x0000_s1079 _x0000_s1080 _x0000_s1081"></span><![endif]><!--[if mso & !supportInlineShapes & supportFields]><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:Calibri;
mso-fareast-language:AR-SA'><span style='mso-element:field-begin;mso-field-lock:
yes'></span><span style='mso-spacerun:yes'></span>SHAPE<span
style='mso-spacerun:yes'> </span>\* MERGEFORMAT <span style='mso-element:field-separator'></span></span></b><![endif]--><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:Calibri;
mso-fareast-language:AR-SA'><!--[if gte vml 1]><v:group id="_x0000_s1117"
 editas="canvas" style='width:423pt;height:108pt;
 mso-position-horizontal-relative:char;mso-position-vertical-relative:line'
 coordorigin="1800,3978" coordsize="8460,2160">
 <o:lock v:ext="edit" aspectratio="t"/>
 <v:shapetype id="_x0000_t75" coordsize="21600,21600" o:spt="75"
  o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
  <v:stroke joinstyle="miter"/>
  <v:formulas>
   <v:f eqn="if lineDrawn pixelLineWidth 0"/>
   <v:f eqn="sum @0 1 0"/>
   <v:f eqn="sum 0 0 @1"/>
   <v:f eqn="prod @2 1 2"/>
   <v:f eqn="prod @3 21600 pixelWidth"/>
   <v:f eqn="prod @3 21600 pixelHeight"/>
   <v:f eqn="sum @0 0 1"/>
   <v:f eqn="prod @6 1 2"/>
   <v:f eqn="prod @7 21600 pixelWidth"/>
   <v:f eqn="sum @8 21600 0"/>
   <v:f eqn="prod @7 21600 pixelHeight"/>
   <v:f eqn="sum @10 21600 0"/>
  </v:formulas>
  <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
  <o:lock v:ext="edit" aspectratio="t"/>
 </v:shapetype><v:shape id="_x0000_s1116" type="#_x0000_t75" style='position:absolute;
  left:1800;top:3978;width:8460;height:2160' o:preferrelative="f">
  <v:fill o:detectmouseclick="t"/>
  <v:path o:extrusionok="t" o:connecttype="none"/>
  <o:lock v:ext="edit" text="t"/>
 </v:shape><v:line id="_x0000_s1118" style='position:absolute;flip:y' from="3599,4878"
  to="3600,5933"/>
 <w:wrap type="none"/>
 <w:anchorlock/>
</v:group><![endif]--><![if !vml]><img width=564 height=144
src="Design%20Document_files/image005.gif" v:shapes="_x0000_s1117 _x0000_s1116 _x0000_s1118"><![endif]></span></b><!--[if mso & !supportInlineShapes & supportFields]><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:Calibri;
mso-fareast-language:AR-SA'><v:shape id="_x0000_i1025" type="#_x0000_t75"
 style='width:423pt;height:108pt'>
 <v:imagedata croptop="-65520f" cropbottom="65520f"/>
</v:shape><span style='mso-element:field-end'></span></span></b><![endif]--><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:Calibri;
mso-fareast-language:AR-SA'><o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'><span
style='mso-spacerun:yes'>
</span><b style='mso-bidi-font-weight:normal'>Figure 5.3<o:p></o:p></b></span></p>

<p class=MsoNormal style='tab-stops:87.75pt'><span style='mso-fareast-font-family:
Calibri;mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='tab-stops:87.75pt'><span style='font-size:14.0pt;
mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;line-height:
150%;mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'>5.2<span
style='mso-tab-count:1'> </span>Frame Table Management<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;line-height:
150%;mso-fareast-font-family:Calibri;mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:Calibri;
mso-fareast-language:AR-SA'>5.2.1<span style='mso-tab-count:1'> </span>Prelude<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:Calibri;
mso-fareast-language:AR-SA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>The frame table contains an entry for each frame that
contains a user page.<span style='mso-spacerun:yes'> </span>Each entry in the
frame table contains a list of pointers to the page table entries of all the processes
sharing the frame.<span style='mso-spacerun:yes'> </span>The frame table
allows burritos to efficiently implement an eviction policy, by choosing a page
to evict when no frames are free.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in;text-align:justify;text-indent:-.5in;
line-height:150%;mso-list:l13 level3 lfo19;tab-stops:list .5in;mso-layout-grid-align:
none;text-autospace:none'><![if !supportLists]><b style='mso-bidi-font-weight:
normal'><span style='mso-list:Ignore'>5.2.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></b><![endif]><b style='mso-bidi-font-weight:normal'>Data
Structures<o:p></o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'><o:p>&nbsp;</o:p></b></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:131.25pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;height:25.8pt'>
  <td width=264 valign=top style='width:198.15pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt;height:25.8pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><b
  style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>frame_elem<o:p></o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes;height:47.55pt'>
  <td width=264 valign=top style='width:198.15pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt;height:47.55pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>frame_addr: uintptr_t<o:p></o:p></span></p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>pte_list: struct list<o:p></o:p></span></p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>flags: int<o:p></o:p></span></p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>sector_no: disk_sector_t<o:p></o:p></span></p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>read_bytes: size_t<o:p></o:p></span></p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'><span
  style='mso-spacerun:yes'></span>elem: struct list_elem<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%;
mso-layout-grid-align:none;text-autospace:none'><b style='mso-bidi-font-weight:
normal'>Figure 5.4<o:p></o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>The frame table is constructed using a list of frame
elements.<span style='mso-spacerun:yes'> </span>The structure of each frame
element is shown above.<span style='mso-spacerun:yes'> </span>Each frame
element contains the address of the frame it refers to, a list of page table
entries of all processes sharing the frame, flags indicating the type and present
status of the frame (can be a combination of flags listed in table 5.1), sector
number of the swap device, and number of non-zero bytes (read bytes) .</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:81.0pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;height:25.8pt'>
  <td width=211 style='width:158.55pt;border:solid windowtext 1.0pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt;height:25.8pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><b
  style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>Flag<o:p></o:p></span></b></p>
  </td>
  <td width=204 style='width:153.0pt;border:solid windowtext 1.0pt;border-left:
  none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt;height:25.8pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><b
  style='mso-bidi-font-weight:normal'><span style='mso-fareast-language:AR-SA'>Represents<o:p></o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;height:25.8pt'>
  <td width=211 style='width:158.55pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt;height:25.8pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>FRAME_MMAP<o:p></o:p></span></p>
  </td>
  <td width=204 style='width:153.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt;height:25.8pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>A frame of a memory mapped file.<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2;height:25.8pt'>
  <td width=211 style='width:158.55pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt;height:25.8pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>FRAME_EXEC<o:p></o:p></span></p>
  </td>
  <td width=204 style='width:153.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt;height:25.8pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>A frame of an executable.<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3;height:25.8pt'>
  <td width=211 style='width:158.55pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt;height:25.8pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>FRAME_SWAP<o:p></o:p></span></p>
  </td>
  <td width=204 style='width:153.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt;height:25.8pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>A swapped out frame.<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4;height:25.8pt'>
  <td width=211 style='width:158.55pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt;height:25.8pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>FRAME_DIRTY<o:p></o:p></span></p>
  </td>
  <td width=204 style='width:153.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt;height:25.8pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>A dirty frame (modified.)<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5;height:25.8pt'>
  <td width=211 style='width:158.55pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt;height:25.8pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>FRAME_ACCESSED<o:p></o:p></span></p>
  </td>
  <td width=204 style='width:153.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt;height:25.8pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>A recently referenced frame.<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6;mso-yfti-lastrow:yes;height:25.8pt'>
  <td width=211 style='width:158.55pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt;height:25.8pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>FRAME_IO<o:p></o:p></span></p>
  </td>
  <td width=204 style='width:153.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt;height:25.8pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
  style='mso-fareast-language:AR-SA'>A frame being read/written from/into the
  disk.<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='mso-tab-count:3'> </span></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%;
mso-layout-grid-align:none;text-autospace:none'><b style='mso-bidi-font-weight:
normal'>Table 5.1<o:p></o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'>5.2.3<span
style='mso-spacerun:yes'> </span>Algorithm<o:p></o:p></b></p>

<p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
text-autospace:none'><b style='mso-bidi-font-weight:normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
text-autospace:none'><u>Construction of the frame table<o:p></o:p></u></p>

<p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
text-autospace:none'>A new entry in the frame table is made when:-</p>

<p class=MsoNormal style='margin-left:39.0pt;text-indent:-.25in;line-height:
150%;mso-list:l25 level1 lfo9;tab-stops:list 39.0pt;mso-layout-grid-align:none;
text-autospace:none'><![if !supportLists]><span style='mso-list:Ignore'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><![endif]>The
executable of a process is being loaded.</p>

<p class=MsoNormal style='margin-left:39.0pt;text-indent:-.25in;line-height:
150%;mso-list:l25 level1 lfo9;tab-stops:list 39.0pt;mso-layout-grid-align:none;
text-autospace:none'><![if !supportLists]><span style='mso-list:Ignore'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><![endif]>A
file is mapped onto memory (mmap.)</p>

<p class=MsoNormal style='margin-left:39.0pt;text-indent:-.25in;line-height:
150%;mso-list:l25 level1 lfo9;tab-stops:list 39.0pt;mso-layout-grid-align:none;
text-autospace:none'><![if !supportLists]><span style='mso-list:Ignore'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><![endif]>The
stack segment of a process grows beyond a page.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>In the former two cases, the newly created frame
element is marked as swapped out with its sector number attribute indicating
the sector at which the corresponding data is found, so that these pages can be
fetched on demand from the respective sector on the disk and loaded onto the
physical frames. <span style='mso-spacerun:yes'></span>Whereas, in the latter
case, the frame element will contain the address of the newly allocated
physical frame to which the stack page is mapped onto. </p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>The procedure described above is carried out only
when the frame being referred to, by the frame element, is not in the memory or
any of the swap devices, and is a writable segment of an executable.<span
style='mso-spacerun:yes'> </span>In all other cases, the frame has to be
shared, that is, the frame element would have already been created, and only a
new entry will be made in its list of page table entries; and the page table
entry itself will be updated to contain the physical address, through the
frame address attribute of the frame element. <span
style='mso-spacerun:yes'></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><u>Destruction of a processs Page Directory <o:p></o:p></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>The page directory of a process is destroyed when it
ceases to exist, that is, all the memory allocated to the process including the
page directory itself, is reclaimed.<span style='mso-spacerun:yes'> </span>This
involves the following steps:-</p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l9 level1 lfo10;
     tab-stops:list .5in;mso-layout-grid-align:none;text-autospace:none'>Retrieve
     the frame element corresponding to each page table entry of the process.</li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l9 level1 lfo10;
     tab-stops:list .5in;mso-layout-grid-align:none;text-autospace:none'>Remove
     the page table entry (PTE) from the frame element.</li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l9 level1 lfo10;
     tab-stops:list .5in;mso-layout-grid-align:none;text-autospace:none'>If the
     frame is not shared by any other process (the list of PTEs is empty), then:-</li>
 <ol style='margin-top:0in' start=1 type=a>
  <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l9 level2 lfo10;
      tab-stops:list 1.0in;mso-layout-grid-align:none;text-autospace:none'>Free
      the sectors allocated to the frame, on the disk, if it is a data or a
      stack page that has been swapped out.</li>
  <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l9 level2 lfo10;
      tab-stops:list 1.0in;mso-layout-grid-align:none;text-autospace:none'>Write
      the frame back to the disk, if it is a frame of a memory mapped file and
      has been modified; and discard it otherwise.</li>
 </ol>
</ol>

<p class=MsoNormal style='margin-left:.75in;text-align:justify;line-height:
150%;mso-layout-grid-align:none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><u>Frame Eviction<o:p></o:p></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>The most important operation on the frame table is
obtaining an unused frame.<span style='mso-spacerun:yes'> </span>This is
trivial when a frame is free.<span style='mso-spacerun:yes'> </span>When none
is free, a frame is made available by evicting a victim frame.<span
style='mso-spacerun:yes'> </span>The eviction algorithm employed in burritos
is the clock algorithm.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>If such a victim frame is found dirty (modified), then
following checks are performed:-</p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l4 level1 lfo11;
     tab-stops:list .5in;mso-layout-grid-align:none;text-autospace:none'>If the
     victims frame element still indicates that it is an all-zero frame, then the
     number of non-zero bytes is recomputed.</li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l4 level1 lfo11;
     tab-stops:list .5in;mso-layout-grid-align:none;text-autospace:none'>If its
     frame element indicates that, it is a page from an executable, reset the
     corresponding flag to suggest that, it should no longer be read from the
     executable.</li>
</ol>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>Next, the victim frame is swapped out.<span
style='mso-spacerun:yes'> </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>A swapped out frame or a frame involved in disk I/O,
is not a candidate for eviction.<span style='mso-spacerun:yes'> </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><u>Syncing Aliases<o:p></o:p></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>Aliases are two (or more) pages that refer to the
same frame. When an aliased frame is accessed, the accessed and dirty bits are
updated by the CPU, in only one page table entry (the one for the page used for
access.)<span style='mso-spacerun:yes'> </span>The operating system takes care
of syncing the dirty and access bits of all aliases before any operation
(insert/delete/update) is performed on the frame table.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><u><span style='mso-spacerun:yes'> </span><a
name="OLE_LINK4"></a><a name="OLE_LINK3"><span style='mso-bookmark:OLE_LINK4'><o:p></o:p></span></a></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='mso-bookmark:OLE_LINK3'><span
style='mso-bookmark:OLE_LINK4'><b style='mso-bidi-font-weight:normal'>5.2.4<span
style='mso-tab-count:1'> </span>Synchronization<o:p></o:p></b></span></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='mso-bookmark:OLE_LINK3'><span
style='mso-bookmark:OLE_LINK4'><b style='mso-bidi-font-weight:normal'><o:p>&nbsp;</o:p></b></span></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='mso-bookmark:OLE_LINK3'><span
style='mso-bookmark:OLE_LINK4'>Race co</span></span>nditions can occur when two
(or more) user processes access the frame table simultaneously.<span
style='mso-spacerun:yes'> </span>The kernel keeps the frame table consistent
and avoids races by requiring a process to acquire a lock before it:-</p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l12 level1 lfo12;
     tab-stops:list .5in;mso-layout-grid-align:none;text-autospace:none'>Obtains
     a new frame.</li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l12 level1 lfo12;
     tab-stops:list .5in;mso-layout-grid-align:none;text-autospace:none'>Faults
     on some page.</li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l12 level1 lfo12;
     tab-stops:list .5in;mso-layout-grid-align:none;text-autospace:none'>Relinquishes
     its frames, when it destroys its page directory after completing execution</li>
</ol>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><u><o:p><span style='text-decoration:none'>&nbsp;</span></o:p></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><u><o:p><span style='text-decoration:none'>&nbsp;</span></o:p></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'>5.2.5<span
style='mso-tab-count:1'> </span>Rationale<o:p></o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><u>Scope of the Frame Table<o:p></o:p></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>A design using a global frame table is prone to many race
conditions, since multiple processes can access the frame table simultaneously.<span
style='mso-spacerun:yes'> </span>A local (per-process) frame table in each
process makes synchronization easy and thereby, avoids such races.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>When two (or more) processes share their pages, the
entries corresponding to the shared pages, in the frame table of each process, need
to be consistent.<span style='mso-spacerun:yes'> </span>This can be a
significant overhead.<span style='mso-spacerun:yes'> </span>In the global
frame table implemented in the present design, each entry contains a list of
page table entries of all processes sharing that frame.<span
style='mso-spacerun:yes'> </span>This design, by its nature, maintains a
single entry in the frame table for all processes, sharing that frame, which
completely eliminates the consistency requirement associated with a design that
uses per-process frame table. </p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><u>Placement of the Frame Table<o:p></o:p></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>To simplify the design, the frame table is stored in
non-pageable memory, which ensures that no part of the frame table ever gets
swapped out.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:14.0pt;line-height:150%'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'><span
style='font-size:14.0pt;line-height:150%'>5.3</span></b><span style='font-size:
14.0pt;line-height:150%'><span style='mso-tab-count:1'> </span><b
style='mso-bidi-font-weight:normal'>The Page Fault Handler</b><o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:14.0pt;line-height:150%'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'>5.3.1<span
style='mso-tab-count:1'> </span>Algorithm<o:p></o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>The kernel raises a page fault exception when a
process accesses a page that is not in memory.<span style='mso-spacerun:yes'>
</span>The page fault is serviced as follows:-</p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l26 level1 lfo13;
     tab-stops:list .5in;mso-layout-grid-align:none;text-autospace:none'>The page
     fault handler first retrieves the address of the faulting page from one of
     the CPU control registers.</li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l26 level1 lfo13;
     tab-stops:list .5in;mso-layout-grid-align:none;text-autospace:none'>If the
     page is unmapped, that is, if theres no data there, or if the page lies
     within kernel virtual memory, or if the access is an attempt to write to a
     read-only page, then the access is invalid. <span
     style='mso-spacerun:yes'></span>Any invalid access terminates the process
     and thereby frees all of its resources.</li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l26 level1 lfo13;
     tab-stops:list .5in;mso-layout-grid-align:none;text-autospace:none'>If the
     memory reference is valid, the frame table entry associated with the page
     that has faulted is obtained.</li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l26 level1 lfo13;
     tab-stops:list .5in;mso-layout-grid-align:none;text-autospace:none'>The
     frame table entry is used to locate the data that goes in the page, which
     might be in the file system, or in a swap slot, or it might simply be an
     all-zero page, or it might already be swapped into the memory by another
     process, which shares that page.</li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l26 level1 lfo13;
     tab-stops:list .5in;mso-layout-grid-align:none;text-autospace:none'>If the
     frame is already present in the memory (swapped in by a process that
     shares the page), then the frame only needs to be located.<span
     style='mso-spacerun:yes'> </span>Otherwise, a new frame is obtained to
     store the page.<span style='mso-spacerun:yes'> </span>And when all the
     memory has been exhausted, a frame must be made available by evicting some
     victim frame, chosen by the eviction algorithm.</li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l26 level1 lfo13;
     tab-stops:list .5in;mso-layout-grid-align:none;text-autospace:none'>Next,
     the data is fetched into the frame, by </li>
 <ol style='margin-top:0in' start=1 type=a>
  <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l26 level2 lfo13;
      tab-stops:list 1.0in;mso-layout-grid-align:none;text-autospace:none'>Reading
      it from the file system or a swap slot if the frame is on the disk.</li>
  <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l26 level2 lfo13;
      tab-stops:list 1.0in;mso-layout-grid-align:none;text-autospace:none'>Zeroing
      it out if the frame table entry indicates that it is an all-zero page.</li>
 </ol>
</ol>

<p class=MsoNormal style='margin-left:.5in;text-align:justify;line-height:150%;
mso-layout-grid-align:none;text-autospace:none'>If the frame is already
available in memory as a page of another process sharing this page, then no
action is necessary in this step.</p>

<ol style='margin-top:0in' start=7 type=1>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l26 level1 lfo13;
     tab-stops:list .5in;mso-layout-grid-align:none;text-autospace:none'>The
     page table entry (PTE) of the page and all its aliases will be updated to
     indicate that the page and its aliases are now available in memory.</li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l26 level1 lfo13;
     tab-stops:list .5in;mso-layout-grid-align:none;text-autospace:none'>The
     process is put back into the ready queue, so that it can resume execution
     from the faulting instruction, when it is next scheduled to run.</li>
</ol>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'>5.3.2<span
style='mso-tab-count:1'> </span>Synchronization<o:p></o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><u><o:p><span style='text-decoration:none'>&nbsp;</span></o:p></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>Whenever a process Qs frame is evicted, the page
table entries (PTEs) pointing to this frame are updated to indicate that the frame
is no longer available in memory, so that all accesses to the frame by Q will
result in a page fault. <span style='mso-spacerun:yes'></span>Interrupts are
disabled during this operation in order to achieve atomicity, so that when a
page fault in process P causes another process Q's frame to be evicted, Q will
not be able to access or modify the page during the eviction process.<span
style='mso-spacerun:yes'> </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>But, there can still be a race between a process P
evicting another process Qs frame and Q faulting on the page.<span
style='mso-spacerun:yes'> </span>Such a race is avoided by prohibiting more
than one process to execute in the page fault handler simultaneously, by using
a lock.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='mso-bidi-font-family:"Arabic Transparent"'>Suppose
a process P faults on some page, reads it from the file system or swap, and is
put back into the ready queue; it must be guaranteed that a second process Q should
not evict the frame, while P is still in the ready queue, and until it has successfully
resumed execution at the faulting instruction.<span style='mso-spacerun:yes'>
</span>This is ensured by forbidding the frame from participating in eviction
until the page fault has been completely serviced and the process successfully restarts
the faulting instruction.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='mso-bidi-font-family:"Arabic Transparent"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'>5.3.3<span
style='mso-tab-count:1'> </span>Rationale<o:p></o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>Using many locks in the VM synchronization design
allows for high parallelism, but complicates synchronization and raises the
possibility for a deadlock.<span style='mso-spacerun:yes'> </span>The present
design uses a single lock to make synchronization easy, but makes a compromise on
parallelism.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'><span
style='font-size:14.0pt;line-height:150%'>5.4</span></b><span style='font-size:
14.0pt;line-height:150%'><span style='mso-tab-count:1'> </span><b
style='mso-bidi-font-weight:normal'>Memory Mapped Files</b><o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'><span
style='font-size:14.0pt;line-height:150%'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:11.0pt;line-height:150%'>The
file system is most commonly accessed with read and write system
calls.<span style='mso-spacerun:yes'> </span>A secondary interface is to <i
style='mso-bidi-font-style:normal'>map</i> the file into virtual pages, using
the mmap system call.<span style='mso-spacerun:yes'> </span>The program can
then use memory instructions directly on the file data.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'><span
style='font-size:11.0pt;line-height:150%'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><u><span style='font-size:11.0pt;line-height:150%'>The
mmap system call<o:p></o:p></span></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>The mmap system call maps an open file into the
processs virtual address space.<span style='mso-spacerun:yes'> </span>The
entire file is mapped into consecutive virtual pages starting at the virtual
address provided by the user.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>The VM system loads pages on demand into the memory
mapped (mmap) regions and uses the mmapd file itself, as a backing store for
the mapping.<span style='mso-spacerun:yes'> </span>That is, evicting a page
mapped by mmap writes it back to the file it was mapped from.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>If the files length is not a multiple of size of a
page, then some bytes in the final mapped page stick out beyond the end of the
file.<span style='mso-spacerun:yes'> </span>These bytes are set to zero when
the page is faulted in from disk, and are discarded when the page is written
back to disk.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>If successful, the system call returns the virtual
address at which the file is mapped.<span style='mso-spacerun:yes'> </span>On
failure, it returns -1.<span style='mso-spacerun:yes'> </span>A call to mmap may
fail if:-</p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l31 level1 lfo14;
     tab-stops:list .5in;mso-layout-grid-align:none;text-autospace:none'>The
     file opened has a length of zero bytes.</li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l31 level1 lfo14;
     tab-stops:list .5in;mso-layout-grid-align:none;text-autospace:none'>The
     virtual address at which the file is mapped is not page-aligned. </li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l31 level1 lfo14;
     tab-stops:list .5in;mso-layout-grid-align:none;text-autospace:none'>The
     range of pages mapped overlaps any existing set of mapped pages, including
     the stack or pages loaded from the executable.</li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l31 level1 lfo14;
     tab-stops:list .5in;mso-layout-grid-align:none;text-autospace:none'>The
     virtual address at which the file is mapped is 0, because the kernel
     assumes that virtual page 0 is not mapped. </li>
 <li class=MsoNormal style='text-align:justify;line-height:150%;mso-list:l31 level1 lfo14;
     tab-stops:list .5in;mso-layout-grid-align:none;text-autospace:none'>The file
     being mapped has a file descriptor 0 or 1, representing console input and
     output.</li>
</ol>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><u>The munmap system call<o:p></o:p></u></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>The munmap system call unmaps the mapping present at
the virtual address given by the user, which must be an address returned by a
previous call to mmap by the same process.<span style='mso-spacerun:yes'>
</span>When a mapping is unmapped, all pages written to by the process are
written back to the file.<span style='mso-spacerun:yes'> </span>The frame
table entries corresponding to the pages in the mmapd region are removed from
the frame table and the memory utilized by those pages is reclaimed.<span
style='mso-spacerun:yes'> </span>All mappings are implicitly unmapped when a
process exits.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>Closing or removing a file does not unmap any of its
mappings.<span style='mso-spacerun:yes'> </span>Once created, a mapping is
valid until munmap is called or the process exits, following the UNIX
convention of removing an open file.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'><span
style='font-size:14.0pt;line-height:150%'>5.5<span style='mso-tab-count:1'> </span>Stack
Growth<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:14.0pt;line-height:150%'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='color:black'>In pintos, user processes
were limited to a page long stack present at the top of the user virtual
address space.<span style='mso-spacerun:yes'> </span>But, the stack in
burritos is made to grow past its current size by allocation of additional
pages as necessary.<span style='mso-spacerun:yes'> </span></span>Additional
pages are allocated only if they appear to be stack accesses. <span
style='mso-spacerun:yes'></span>Access to any address lying between the current
user stack boundary and the predefined stack limit, is a stack access. The
first stack page is not allocated lazily. That is, it is allocated and
initialized with the command line arguments at load time, with no need to wait
for it to be faulted in.<span style='color:black'><o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'><span
style='font-size:16.0pt;line-height:150%'>6.<span style='mso-tab-count:1'> </span>File
System<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:14.0pt;line-height:150%;
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:14.0pt;line-height:150%;
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'><span
style='font-size:14.0pt;line-height:150%'>Implementation of a hierarchical
namespace</span></b><span style='font-size:14.0pt;line-height:150%;color:black'><o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:14.0pt;line-height:150%'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>In the basic file system, all files live in a single
directory.<span style='mso-spacerun:yes'> </span>A hierarchical file system
modifies this to allow directory entries to point to files or to other
directories.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>A separate current directory is maintained for each
process.<span style='mso-spacerun:yes'> </span>At startup, the root directory
is set as the initial processs current directory.<span
style='mso-spacerun:yes'> </span>When one process starts another with the exec
system call, the child process inherits its parents current directory.<span
style='mso-spacerun:yes'> </span>After that, the two processes current
directories are independent, so that either changing its own current directory
has no effect on the other.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>The file management utilities of pintos have been
updated so that, anywhere a filename is provided by the caller, an absolute or
a relative path name may be used.<span style='mso-spacerun:yes'> </span>The
open and close system calls are modified to open and close directories.<span
style='mso-spacerun:yes'> </span>New system calls chdir, mkdir, readdir, isdir
and inumber are implemented for directory management.</p>

<span style='font-size:12.0pt;line-height:150%;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman";mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:AR-SA'><br clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'><span
style='font-size:16.0pt;line-height:150%'>7.<span style='mso-tab-count:1'> </span>Test
Documentation<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'><span
style='font-size:14.0pt;line-height:150%'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:14.0pt;line-height:150%'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>All the functionalities implemented throughout this
work have been tested against an extensive set of test cases provided by the
Stanford University.<span style='mso-spacerun:yes'> </span>A subset of those
test cases has been listed below:-</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'>7.1<span
style='mso-tab-count:1'> </span>Alarm Clock<o:p></o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>For each of the following tests, N threads are
created, each of which sleeps for a different, fixed duration, M times.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0 width=607
 style='width:455.4pt;border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>Name of the Test</p>
  </td>
  <td width=436 style='width:326.7pt;border:solid windowtext 1.0pt;border-left:
  none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>Description</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>alarm-multiple</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Thread 0 sleeps for 10 sec, thread 1 sleeps for 20 sec
  and so on. Expected Result: Product of iteration count and sleep duration
  will appear in increasing order.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2;mso-yfti-lastrow:yes'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>alarm-simultaneous</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Each thread sleeps equal number of ticks in each
  iteration.</p>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Expected Result: Within an iteration, all threads should
  wake up on the same tick.</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'>7.2<span
style='mso-tab-count:1'> </span>Priority Scheduler<o:p></o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0 width=607
 style='width:455.4pt;border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>Name of the Test</p>
  </td>
  <td width=436 style='width:326.7pt;border:solid windowtext 1.0pt;border-left:
  none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>Description</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>priority-change</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Verifies that lowering a thread's priority so that it is
  no longer the highest-priority thread in the system causes it to yield immediately.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>priority-fifo</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Creates several threads all at the same priority and
  ensures that they consistently run in the same round-robin order.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>priority-donate-multiple</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Checks that when multiple threads donate their priorities
  to a single thread, in effect only the highest priority thread should have
  donated.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>Name of the Test</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>Description</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>priority-donate-chain</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Handles the case of nested donation. Creates several
  threads that wait for each other in a chain in decreasing order of
  priorities, along with a few interloper threads that do not wait for any
  lock.</p>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Expected Result: All threads run to completion in the
  order of their priorities.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>priority-donate-lower</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Verifies that attempts to lower the priority will not
  take effect until donation is released.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:7;mso-yfti-lastrow:yes'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>priority-donate-sema</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Lower priority thread L acquires a lock, then blocks
  downing a semaphore. Medium priority thread M then blocks waiting on the same
  semaphore. Next, high priority thread H attempts to acquire the lock,
  donating its priority to L.</p>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Next, the main thread ups the semaphore, waking up L. L
  releases the lock, which wakes up H.<span style='mso-spacerun:yes'> </span>H
  ups the semaphore, waking up M.<span style='mso-spacerun:yes'> </span>H
  terminates, then M, then L, and finally the main thread.</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'>7.3<span
style='mso-tab-count:1'> </span>Advanced Scheduler<o:p></o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0 width=607
 style='width:455.4pt;border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>Name of the Test</p>
  </td>
  <td width=436 style='width:326.7pt;border:solid windowtext 1.0pt;border-left:
  none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>Description</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>mlfqs-fair</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Measures the correctness of the nice implementation.</p>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>The fair tests run either 2 or 20 threads all niced to
  0. </p>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>The threads should all receive approximately the same
  number of ticks. Each test runs for 30 seconds, so the ticks should also sum
  to approximately 30 * 100 == 3000 ticks.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>mlfqs-load-1</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Verifies that a single busy thread raises the load
  average to 0.5 in 38 to 45 seconds. The expected time is 42 seconds.</p>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Then, verifies that 10 seconds of inactivity drop the
  load average back below 0.5 again.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3;mso-yfti-lastrow:yes'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>mlfqs-recent-1</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Checks that the recent cpu time is calculated properly
  for the case of a single ready process.</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'>7.4<span
style='mso-tab-count:1'> </span>Deadlock Avoidance<o:p></o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0 width=607
 style='width:455.4pt;border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>Name of the Test</p>
  </td>
  <td width=436 style='width:326.7pt;border:solid windowtext 1.0pt;border-left:
  none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>Description</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>deadlock-simple</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Thread A holds lock 0 and thread B holds lock 1. Thread
  B tries to acquire lock 0 and blocks. Thread A now makes a request for lock
  1. This should be denied.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2;mso-yfti-lastrow:yes'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>deadlock-nest</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Thread A waits for thread B and thread B waits for
  thread C. Now, all requests by thread C for locks held by thread A have to be
  denied.</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'>7.5<span
style='mso-tab-count:1'> </span>User Processes<o:p></o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0 width=607
 style='width:455.4pt;border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>Name of the Test</p>
  </td>
  <td width=436 style='width:326.7pt;border:solid windowtext 1.0pt;border-left:
  none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>Description</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>args-*</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Verifies that the command line string has been correctly
  parsed and the arguments are properly pushed onto the stack.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>exec-multiple</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Execs and waits for multiple child processes.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>exec-missing</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Tries to execute a non existent process. <span
  style='mso-spacerun:yes'></span>Exec should return -1.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>rox-multichild</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Ensures that the executable of a running process cannot
  be modified, even in presence of multiple children.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>wait-simple</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Wait for a subprocess to finish.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>wait-twice</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Wait for a subprocess to finish, twice. The first call
  must wait in the usual way and return the exit code. The second wait call
  must return -1 immediately.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:7'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>multi-oom</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Recursively executes itself until the child fails to
  execute. It is expected that at least 30 copies can run.</p>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>The number of children the kernel was able to execute is
  counted before it fails to start a new process.<span
  style='mso-spacerun:yes'> </span>It is required that, if a process doesn't
  actually get to start, exec() must return -1.</p>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>This process is repeated 10 times, checking that the
  kernel allows for the same level of depth every time.</p>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>In addition, some processes will spawn children that
  terminate abnormally after allocating some resources.<span style='font-size:
  10.0pt;line-height:150%;font-family:"Courier New"'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:8'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>Name of the Test</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>Description</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:9;mso-yfti-lastrow:yes'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>multi-child-fd</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Opens a file and then runs a subprocess that tries to
  close the file. (Burritos does not have inheritance of file handles, so this
  must fail.) The parent process then attempts to use the file handle, which
  must succeed.</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'>7.6<span
style='mso-tab-count:1'> </span>User Memory Access<o:p></o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0 width=607
 style='width:455.4pt;border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>Name of the Test</p>
  </td>
  <td width=436 style='width:326.7pt;border:solid windowtext 1.0pt;border-left:
  none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>Description</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>bad-jump/bad-read/ bad-write</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Ensures that all attempts to access unmapped addresses
  or the kernel virtual addresses will cause a user process to be immediately
  terminated with an exit code of -1.</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'>7.7<span
style='mso-tab-count:1'> </span>Paging<o:p></o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'>Each of the following test cases was made to run with
a limited memory of only 2MB, so that key features of our virtual memory system
such as handling of page faults, swapping in and swapping out of pages, frame
eviction and sharing of pages are rigorously tested.</p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0 width=607
 style='width:455.4pt;border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>Name of the Test</p>
  </td>
  <td width=436 style='width:326.7pt;border:solid windowtext 1.0pt;border-left:
  none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>Description</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>page-linear</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Encrypts, then decrypts, 2MB of memory and verifies that
  the values are as they should be.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>page-parallel</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Runs 4 child processes at once. Each child process
  encrypts 1MB of zeroes, then decrypts it, and ensures that the zeroes are
  back. </p>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Since the job of each child process is the same, they
  run the same executable, and hence read only pages of each process are
  shared.</p>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>It is always possible that these shared pages get
  evicted because of limited memory. Hence, consistency must be maintained when
  swapping in and swapping out such shared pages.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3;mso-yfti-lastrow:yes'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>page-merge-seq /</p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>page-merge-par</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Generates 1 MB of data that is then divided into 16
  chunks.<span style='mso-spacerun:yes'> </span>A separate sub-process sorts
  each chunk in sequence/parallel. We then merge the chunks and verify that the
  data is intact.</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'>7.8<span
style='mso-tab-count:1'> </span>Memory Mapped Files<o:p></o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;line-height:150%'><o:p>&nbsp;</o:p></span></p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0 width=607
 style='width:455.4pt;border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>Name of the Test</p>
  </td>
  <td width=436 style='width:326.7pt;border:solid windowtext 1.0pt;border-left:
  none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>Description</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>mmap-write</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Writes to a file through a mapping, and unmaps the file,
  then reads the data in the file back using the read system call to verify.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>mmap-twice</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Maps the same file into memory twice and verifies that
  the same data is readable in both.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>mmap-clean</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Verifies that mmap'd regions are only written back on
  munmap if the data was actually modified in memory.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>mmap-exit</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Executes a child process that mmaps a file and writes to
  it via the mmap'ing, then exits without calling munmap. The data in the
  mapped region must be written out at program termination. The parent verifies
  that the writes that should have occurred really did</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5;mso-yfti-lastrow:yes'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>mmap-remove</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Deletes and closes file that is mapped into memory and
  verifies that it can still be read through the mapping.</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'>7.9<span
style='mso-tab-count:1'> </span>Stack Growth<o:p></o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;line-height:150%'><o:p>&nbsp;</o:p></span></p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0 width=607
 style='width:455.4pt;border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>Name of the Test</p>
  </td>
  <td width=436 style='width:326.7pt;border:solid windowtext 1.0pt;border-left:
  none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>Description</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>pt-grow-stack</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Demonstrates that the stack can grow and this must
  succeed.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>pt-grow-pusha</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Expands the stack by 32 bytes all at once using the
  PUSHA instruction. This must succeed.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3;mso-yfti-lastrow:yes'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>pt-grow-bad</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Reads from an address 4,096 bytes below the stack
  pointer. The process must be terminated with an exit code of -1.</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'>7.10<span
style='mso-tab-count:1'> </span>Hierarchical file system<o:p></o:p></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'><span
style='font-size:10.0pt;line-height:150%'><o:p>&nbsp;</o:p></span></b></p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0 width=607
 style='width:455.4pt;border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>Name of the Test</p>
  </td>
  <td width=436 style='width:326.7pt;border:solid windowtext 1.0pt;border-left:
  none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>Description</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>dir-mk-tree</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Creates directories /0/0/0 through /3/2/2 and creates
  files in the leaf directories.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>dir-open</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Opens a directory, then tries to write to it, which must
  fail.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3;mso-yfti-lastrow:yes'>
  <td width=172 style='width:128.7pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>dir-over-file/</p>
  <p class=MsoNormal align=center style='text-align:center;line-height:150%;
  mso-layout-grid-align:none;text-autospace:none'>dir-under-file</p>
  </td>
  <td width=436 style='width:326.7pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%;mso-layout-grid-align:none;
  text-autospace:none'>Tries to create a file with the same name as an existing
  directory (or vice-versa), which must return failure.</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'><span
style='font-size:16.0pt;line-height:150%'>8.<span style='mso-tab-count:1'> </span>Future
Work<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:14.0pt;line-height:150%;
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:14.0pt;line-height:150%;
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='color:black'>This focus of this project
was to get a hands-on learning experience by developing a primitive kernel like
pintos into a kernel similar to that of the present day operating systems like
UNIX.<span style='mso-spacerun:yes'> </span>While many lower level features in
the key areas of process, memory and file management have been designed and
implemented in this work, we still have a long way to go in the process of
modernizing pintos.<span style='mso-spacerun:yes'> </span>Potential future
works include:<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='color:black'><o:p>&nbsp;</o:p></span></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='color:black;text-align:justify;line-height:150%;
     mso-list:l8 level1 lfo35;tab-stops:list .5in;mso-layout-grid-align:none;
     text-autospace:none'>Multi-threaded Processes.<span
     style='mso-spacerun:yes'> </span>Processes in burritos have only one
     thread of execution. <span style='mso-spacerun:yes'></span>A single
     threaded process is not well suited for many applications such as those
     used in the internet, where speed is imperative.<span
     style='mso-spacerun:yes'> </span>The process management utilities of
     burritos can be further strengthened to make processes multi-threaded and
     improve their performance.<o:p></o:p></li>
</ul>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='color:black'><o:p>&nbsp;</o:p></span></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='color:black;text-align:justify;line-height:150%;
     mso-list:l8 level1 lfo35;tab-stops:list .5in;mso-layout-grid-align:none;
     text-autospace:none'>Network Support.<span style='mso-spacerun:yes'>
     </span>The existing burritos kernel does not have enough support for
     communication over a network or even for communication among processes
     running on the same machine.<span style='mso-spacerun:yes'> </span>Like
     most modern operating systems, burritos can be extended to support message
     passing, remote procedure calls and remote login. <o:p></o:p></li>
</ul>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='color:black'><o:p>&nbsp;</o:p></span></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='color:black;text-align:justify;line-height:150%;
     mso-list:l8 level1 lfo35;tab-stops:list .5in;mso-layout-grid-align:none;
     text-autospace:none'>File Synchronization.<span style='mso-spacerun:yes'>
     </span>In order to support database applications, where only one process
     should be allowed to access a file at any instant of time, a file locking
     mechanism can be employed in burritos, which currently does nothing to
     prevent concurrent accesses to files. <o:p></o:p></li>
</ul>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='color:black'><o:p>&nbsp;</o:p></span></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='color:black;text-align:justify;line-height:150%;
     mso-list:l8 level1 lfo35;tab-stops:list .5in;mso-layout-grid-align:none;
     text-autospace:none'>Buffer/Page Cache.<span style='mso-spacerun:yes'>
     </span>File access can be speeded up by the provision of a buffer cache
     and a page cache.<span style='mso-spacerun:yes'> </span>A buffer cache
     can be implemented to cache recently accessed disk blocks, so that subsequent
     accesses can be made from the cache rather than the disk.<o:p></o:p></li>
</ul>

<span style='font-size:12.0pt;line-height:150%;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:AR-SA'><br clear=all
style='page-break-before:always'>
</span>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'><span
style='font-size:16.0pt;line-height:150%'>Bibliography</span></b><span
style='color:black'><o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='color:black'><o:p>&nbsp;</o:p></span></p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='color:black;text-align:justify;line-height:150%;
     mso-list:l30 level1 lfo28;tab-stops:list .5in;mso-layout-grid-align:none;
     text-autospace:none'>Robert Love, <i style='mso-bidi-font-style:normal'>Linux
     Kernel Development</i>, Pearson Education, 2005.<o:p></o:p></li>
</ol>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='color:black'><o:p>&nbsp;</o:p></span></p>

<ol style='margin-top:0in' start=2 type=1>
 <li class=MsoNormal style='color:black;text-align:justify;line-height:150%;
     mso-list:l30 level1 lfo28;tab-stops:list .5in;mso-layout-grid-align:none;
     text-autospace:none'>Barry B. Brey, <i style='mso-bidi-font-style:normal'>The
     Intel Microprocessors  Architecture, Programming, and Interfacing</i>, Prentice
     Hall of India, 2006.<o:p></o:p></li>
</ol>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='color:black'><o:p>&nbsp;</o:p></span></p>

<ol style='margin-top:0in' start=3 type=1>
 <li class=MsoNormal style='color:black;text-align:justify;line-height:150%;
     mso-list:l30 level1 lfo28;tab-stops:list .5in;mso-layout-grid-align:none;
     text-autospace:none'>Andrew S. Tanenbaum, Albert S Woodhull, <i
     style='mso-bidi-font-style:normal'>Operating Systems  Design and
     Implementation</i>, Pearson Education, 2005. <o:p></o:p></li>
</ol>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='color:black'><o:p>&nbsp;</o:p></span></p>

<ol style='margin-top:0in' start=4 type=1>
 <li class=MsoNormal style='color:black;text-align:justify;line-height:150%;
     mso-list:l30 level1 lfo28;tab-stops:list .5in;mso-layout-grid-align:none;
     text-autospace:none'>W. Richard Stevens, <i style='mso-bidi-font-style:
     normal'>Advanced Programming in the UNIX Environment</i>, Pearson
     Education, 2005.<o:p></o:p></li>
</ol>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='color:black'><o:p>&nbsp;</o:p></span></p>

<ol style='margin-top:0in' start=5 type=1>
 <li class=MsoNormal style='color:black;text-align:justify;line-height:150%;
     mso-list:l30 level1 lfo28;tab-stops:list .5in;mso-layout-grid-align:none;
     text-autospace:none'>All the support materials provided by the Stanford
     University  Pintos Documentation and Lecture Notes.<o:p></o:p></li>
</ol>

<p class=MsoNormal style='text-align:justify;line-height:150%;mso-layout-grid-align:
none;text-autospace:none'><span style='color:black'><o:p>&nbsp;</o:p></span></p>

</div>

</body>

</html>
